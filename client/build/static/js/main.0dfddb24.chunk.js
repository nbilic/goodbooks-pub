(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{134:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(36),r=n.n(c),i=n(16),o=(n(134),n(4)),s=n(228),l=n(230),d=n(231),u=n(29),j=n(223),b=n(122),m=n(214),p=n(220),h=n.p+"static/media/logo.c3492d2f.png",x=n(116),O=n.n(x),g=n(115),v=n.n(g),f=n(3),k=n(216),w=Object(k.a)((function(e){return{navbar:{backgroundColor:"#301911",padding:5,display:"flex",justifyContent:"space-between"},leftSide:Object(f.a)({display:"flex",alignItems:"center"},e.breakpoints.down("sm"),{marginLeft:-10}),rightSide:{display:"flex",alignItems:"center"},logo:Object(f.a)({maxWidth:75,"&:hover":{cursor:"pointer"}},e.breakpoints.down("sm"),{maxWidth:36}),titleLG:Object(f.a)({paddingLeft:10,"&:hover":{cursor:"pointer"}},e.breakpoints.down("sm"),{display:"none"}),titleSM:Object(f.a)({paddingLeft:5,"&:hover":{cursor:"pointer"}},e.breakpoints.up("sm"),{display:"none"}),search:Object(f.a)({backgroundColor:"wheat",borderRadius:35,width:300,height:40,paddingLeft:10},e.breakpoints.down("sm"),{transition:".3s",width:function(e){return e.open?0:180},backgroundColor:function(e){return e.open?"rgb(110, 37, 3)":"wheat"},fontSize:"12px"}),searchIcon:{marginLeft:-35,zIndex:100,"&:hover":{cursor:"pointer"}},avatar:{marginLeft:10,"&:hover":{cursor:"pointer"}},dropDownMenuItem:{backgroundColor:"#301911"},link:{textDecoration:"none",color:"inherit"},actions:{display:"flex",alignItems:"center"},icon:{height:64,"&:hover":{cursor:"pointer",color:"lightgreen"}}}})),N=n(21),y=n(22),C=n(15),I=n.n(C),S=n(18),B=n(23),A=n(82),D=Object(A.b)({name:"user",initialState:{user:{active:!1},pending:!0,error:!1},reducers:{updateStart:function(e){e.pending=!0},updateSuccess:function(e,t){e.user=Object(B.a)(Object(B.a)({},e.user),t.payload),e.user.changedAvatar&&(e.user.avatar=e.user.changedAvatar,delete e.user.changedAvatar),e.user.active=!0,localStorage.setItem("user",JSON.stringify(Object(B.a)(Object(B.a)({},e.user),t.payload))),e.pending=!1},logOut:function(e){e.user={active:!1},localStorage.removeItem("user")},updateError:function(e){e.error=!0,e.pending=!1}}}),T=D.actions,F=T.updateStart,L=T.updateError,R=T.updateSuccess,E=T.logOut,z=D.reducer,H=function(){var e=Object(S.a)(I.a.mark((function e(t,n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(F()),t)try{n(R(t))}catch(a){console.log(a),n(L())}case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(S.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(F());try{t(E())}catch(n){t(L())}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=n(19),G=n.n(M),P=n(0),_=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=(t[1],Object(a.useState)("")),r=Object(o.a)(c,2),x=r[0],g=r[1],f=w({open:n}),k=Object(y.c)((function(e){return e.user.user})),C=Object(y.b)(),I=Object(i.f)(),S=Object(a.useState)(null),B=Object(o.a)(S,2),A=B[0],D=B[1],T=Boolean(A),F=function(){D(null)};return Object(P.jsx)(s.a,{position:"sticky",children:Object(P.jsxs)(l.a,{className:f.navbar,children:[Object(P.jsxs)("div",{className:f.leftSide,children:[Object(P.jsx)(N.b,{to:"/",children:Object(P.jsx)("img",{src:h,alt:"logo",className:f.logo})}),Object(P.jsx)(N.b,{to:"/",style:{color:"inherit",textDecoration:"none"},children:Object(P.jsx)(d.a,{variant:"h4",component:"h4",className:f.titleLG,children:"GoodBooks"})}),Object(P.jsx)(d.a,{variant:"h6",component:"h4",className:f.titleSM,children:"GoodBooks"})]}),Object(P.jsxs)("div",{className:f.rightSide,children:[Object(P.jsx)(u.c,{placeholder:"Search for users...",className:f.search,value:x,onChange:function(e){g(e.target.value)}}),Object(P.jsx)(N.b,{to:x.length>0?"/search/".concat(x):"#",state:{filter:x},style:{zIndex:"0"},onClick:function(){return g("")},children:Object(P.jsx)(v.a,{className:f.searchIcon})}),Object(P.jsx)("div",{className:f.test,children:k.active?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:f.actions,children:[Object(P.jsx)(N.b,{to:"/profile/".concat(k.username),children:Object(P.jsx)(j.a,{src:k.avatar,alt:"profile picture",className:f.avatar})}),Object(P.jsx)(O.a,{className:f.icon,onClick:function(e){D(e.currentTarget)}})]}),Object(P.jsx)(b.a,{id:"basic-menu",anchorEl:A,open:T,onClose:F,TransitionComponent:m.a,className:f.dropDownMenu,MenuListProps:{"aria-labelledby":"basic-button"},children:Object(P.jsx)(p.a,{className:"".concat(f.dropDownMenuItem," "),onClick:function(){F(),U(C),I("/login")},children:"Logout"})})]}):Object(P.jsx)(N.b,{to:"/login",className:f.link,children:Object(P.jsx)(d.a,{variant:"body2",sx:{marginLeft:2},children:"Sign in"})})})]})]})})},q=n.p+"static/media/lib-card-bg.d2bb499a.jpg",W=Object(k.a)((function(e){return{container:Object(f.a)({},e.breakpoints.down("sm"),{paddingTop:"0px"}),cardContainer:{width:270,minHeight:400,margin:50,backgroundImage:"url(".concat(q,")"),display:"flex",flexDirection:"column",alignItems:"space-between",position:"relative"},personalInfo:{display:"flex",alignItems:"center"},picture:{maxHeight:200,maxWidth:150,margin:5},listItem:{listStyle:"none",marginLeft:15,marginTop:5,width:"100%",textAlign:"start",textDecoration:"underline","&:hover":{cursor:"pointer"}},cardHolder:{width:"100%",textAlign:"center",borderBottom:"2px solid black"},bottomBorder:{position:"absolute",width:"100%",bottom:10,borderBottom:"5px solid brown"},bottomBorder2:{position:"absolute",width:"100%",bottom:18,borderBottom:"5px solid black"},link:{textDecoration:"none",color:"inherit"}}})),J=function(e){var t=e.user,n=e.setEdit,c=W({}),r=Object(y.c)((function(e){return e.user.user})),i=Object(a.useState)(!1),s=Object(o.a)(i,2),l=s[0],u=s[1],j=function(){return(null===r||void 0===r?void 0:r.username)===(null===t||void 0===t?void 0:t.username)},b=function(){var e=Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.post("".concat("https://goodbooks-550.herokuapp.com","/api/users/addfriend"),{source:r.username,destination:t.username},{withCredentials:!0});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(P.jsx)("div",{className:c.container,children:Object(P.jsxs)("div",{className:c.cardContainer,children:[Object(P.jsxs)(d.a,{variant:"h5",className:c.cardHolder,children:[null===t||void 0===t?void 0:t.username,"'s library card"]}),Object(P.jsxs)("div",{className:c.personalInfo,children:[Object(P.jsx)("img",{src:null===t||void 0===t?void 0:t.avatar,alt:"",className:c.picture}),Object(P.jsx)(d.a,{variant:"body2",children:(null===t||void 0===t?void 0:t.description)||"There seems to be nothing here...."})]}),!l&&Object(P.jsxs)("ul",{children:[Object(P.jsx)(N.b,{to:"/upload",className:c.link,children:j()&&Object(P.jsx)("li",{className:c.listItem,children:"Add a book"})}),Object(P.jsx)(N.b,{to:"/profile/".concat(null===t||void 0===t?void 0:t.username,"/friends"),state:{username:null===t||void 0===t?void 0:t.username},className:c.link,children:Object(P.jsx)("li",{className:c.listItem,children:"Friends"})}),!j()&&Object(P.jsx)("li",{className:c.listItem,onClick:b,children:"Add as friend"}),Object(P.jsx)("li",{className:c.listItem,onClick:function(){return u(!0)},children:"Statistics"}),j()&&Object(P.jsx)("li",{onClick:function(){return n(!0)},className:c.listItem,children:"Edit profile"})]}),l&&Object(P.jsx)(Se,{user:t.username,setStatistics:u}),Object(P.jsx)("div",{className:c.bottomBorder}),Object(P.jsx)("div",{className:c.bottomBorder2})]})})},K=Object(k.a)((function(e){return{container:Object(f.a)({},e.breakpoints.down("sm"),{paddingTop:"0px"}),cardContainer:{width:270,minHeight:400,margin:50,backgroundImage:"url(".concat(q,")"),display:"flex",flexDirection:"column",alignItems:"space-between",position:"relative"},personalInfo:{display:"flex",alignItems:"center"},picture:{maxHeight:200,maxWidth:150,margin:"auto",marginTop:10},cardHolder:{width:"100%",textAlign:"center",borderBottom:"2px solid black"},reviewInput:{marginTop:10,width:"100%",boxSizing:"border-box",resize:"none"},inputField:{position:"relative",backgroundColor:"wheat",borderRadius:0,borderTop:"1px solid black",borderRight:"none",borderLeft:"none",borderBottom:"1px solid black",width:"100%",padding:10},bottomBorder:{position:"absolute",width:"100%",bottom:10,borderBottom:"5px solid brown"},bottomBorder2:{position:"absolute",width:"100%",bottom:18,borderBottom:"5px solid black"}}})),Q=n(224),V=function(e){var t=e.user,n=e.setEdit,c=e.setUser,r=Object(a.useState)(""),i=Object(o.a)(r,2),s=i[0],l=i[1],u=Object(a.useState)(null),j=Object(o.a)(u,2),b=j[0],m=j[1],p=Object(y.b)(),h=K({}),x=function(){var e=Object(S.a)(I.a.mark((function e(){var a,r,i,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.put("".concat("https://goodbooks-550.herokuapp.com","/api/users/").concat(t.username),Object(B.a)(Object(B.a)({username:null===t||void 0===t?void 0:t.username},b&&{avatar:b}),s&&{description:s}),{withCredentials:!0});case 3:a=e.sent,r=a.data,r.avatar,i=r.email,o=r.username,r.description,H(Object(B.a)(Object(B.a)({},b&&{changedAvatar:b}),{},{email:i,username:o}),p),c(Object(B.a)(Object(B.a)(Object(B.a)({},t),b&&{avatar:b}),s&&{description:s})),n(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(P.jsx)("div",{className:h.container,children:Object(P.jsxs)("div",{className:h.cardContainer,children:[Object(P.jsxs)(d.a,{variant:"h5",className:h.cardHolder,children:[null===t||void 0===t?void 0:t.username,"'s library card"]}),Object(P.jsx)("div",{className:h.personalInfo,children:Object(P.jsx)("img",{src:b||(null===t||void 0===t?void 0:t.avatar),alt:"",className:h.picture})}),Object(P.jsxs)(Q.a,{component:"label",children:["Add picture",Object(P.jsx)("input",{type:"file",hidden:!0,onChange:function(e){return m(function(e){var t=new FileReader;t.onloadend=function(){m(t.result)},t.readAsDataURL(e)}(e.target.files[0]))}})]}),Object(P.jsx)(d.a,{variant:"body2",children:"Enter description:"}),Object(P.jsx)("textarea",{placeholder:null===t||void 0===t?void 0:t.description,className:"".concat(h.reviewInput," ").concat(h.inputField),name:"",id:"",cols:"20",rows:"5",value:s,onChange:function(e){return l(e.target.value)}}),Object(P.jsx)(Q.a,{onClick:x,children:"Submit changes"}),Object(P.jsx)(Q.a,{onClick:function(){return n(!1)},sx:{color:"red",marginBottom:5},children:"Discard Changes"}),Object(P.jsx)("div",{className:h.bottomBorder}),Object(P.jsx)("div",{className:h.bottomBorder2})]})})},Z="https://media.istockphoto.com/vectors/five-wooden-boards-in-flat-design-vector-id1124385741?k=20&m=1124385741&s=612x612&w=0&h=W9wBbHp1O7GGXZoyKlVF-sn8KcK_Km0byzkF9jv-8MI=",X=Object(k.a)((function(e){return{container:Object(f.a)({margin:50},e.breakpoints.down("sm"),{margin:0,paddingTop:"0px"}),sort:{margin:10,color:"black",display:"flex",alignItems:"center",fontSize:18,border:"1px solid #301911",width:"fit-content",backgroundColor:"wheat",padding:"2px 5px",borderRadius:30,"&:hover":{cursor:"pointer"}},sortIcon:{rotate:"90deg",color:"brown",marginRight:5},option:{fontWeight:"bold"},sortDropdown:{backgroundColor:"wheat",padding:10,paddingLeft:0,border:"none",borderRadius:30},bookCover:Object(f.a)({width:120,height:180,marginBottom:"-20px",marginTop:20,transition:".3s"},e.breakpoints.down("sm"),{width:60,height:90}),gridContainer:{width:"100%"},gridSeperator:{display:"flex",justifyContent:"center",borderImage:"url(".concat(Z,") 30 stretch"),borderBottom:"25px solid "},gridShelfEnd:{borderImage:"url(".concat(Z,") 30 stretch"),borderBottom:"25px solid ",flexGrow:1}}})),Y=n(232),$=n(225),ee=n(117),te=n.n(ee),ne=function(){var e=X({}),t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!0),l=Object(o.a)(s,2),d=l[0],u=l[1],j=Object(i.g)().username;return Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.get("".concat("https://goodbooks-550.herokuapp.com","/api/books/all/").concat(j));case 3:t=e.sent,r(t.data),u(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[j]),d?Object(P.jsx)(Y.a,{}):Object(P.jsxs)("div",{className:e.container,children:[Object(P.jsxs)("div",{className:e.sort,children:[Object(P.jsx)(te.a,{className:e.sortIcon}),Object(P.jsx)("span",{children:"Sort by"}),Object(P.jsxs)("select",{name:"sort-value",className:e.sortDropdown,onChange:function(e){return function(e){var t=c.map((function(e){return Object(B.a)({},e)}));t.sort((function(t,n){switch(+e){case 1:return t.review.createdAt>n.review.createdAt?1:-1;case 2:return t.review.createdAt<n.review.createdAt?1:-1;case 3:return t.bookInfo.title.toUpperCase()>n.bookInfo.title.toUpperCase()?1:-1;case 4:return t.bookInfo.title.toUpperCase()<n.bookInfo.title.toUpperCase()?1:-1;case 5:return t.review.rating-n.review.rating;case 6:return n.review.rating-t.review.rating}})),r(t)}(e.target.value)},children:[Object(P.jsxs)("option",{value:1,className:e.option,children:[" ","Oldest"]}),Object(P.jsx)("option",{value:2,className:e.option,children:"Newest"}),Object(P.jsx)("option",{value:3,className:e.option,children:"Asc."}),Object(P.jsx)("option",{value:4,className:e.option,children:"Desc."}),Object(P.jsx)("option",{value:5,className:e.option,children:"Rating Asc."}),Object(P.jsx)("option",{value:6,className:e.option,children:"Rating Desc."})]})]}),Object(P.jsxs)($.a,{container:!0,className:e.gridContainer,children:[c.map((function(t){return Object(P.jsx)($.a,{item:!0,lg:2,md:3,sm:4,xs:6,className:e.gridSeperator,children:Object(P.jsx)(N.b,{to:"/book/".concat(t.review.userBookId),state:{book:t.bookInfo,review:t.review,cover:t.cover,username:j},children:Object(P.jsx)("img",{src:t.cover,alt:t.bookInfo.title,className:e.bookCover})})},t.review._id)})),Object(P.jsx)("span",{className:e.gridShelfEnd})]})]})},ae=n(229),ce=n(221),re=n(118),ie=n.n(re),oe=n(81),se=n.n(oe),le=Object(k.a)((function(e){var t;return{inputCard:(t={backgroundColor:"white",width:"50%",margin:"auto",display:"flex"},Object(f.a)(t,e.breakpoints.down("md"),{width:"80%"}),Object(f.a)(t,e.breakpoints.down("sm"),{width:"100%"}),t),leftSideCard:{width:"30%",height:"inherit",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},noCover:{height:220,width:140,backgroundColor:"wheat",border:"2px solid black",margin:"30px auto 10px auto",display:"flex",justifyContent:"center",alignItems:"center"},cover:{height:260,width:160,margin:"20px auto",marginTop:"50px"},rightSideCard:{width:"70%",display:"flex",flexDirection:"column",padding:30},inputArea:{display:"flex",marginBottom:15},inputField:{position:"relative",backgroundColor:"wheat",borderRadius:15,border:"1px solid black",width:"100%",padding:"5px 10px","&:focus":{outline:"none"}},ratingArea:{display:"flex",alignItems:"center"},reviewInput:{marginTop:10,width:"100%",height:"100%",boxSizing:"border-box",resize:"none",padding:15,minHeight:200},submitButton:{marginTop:20,padding:"10px 50px"},pageType:{margin:50,marginLeft:100,color:"black",borderBottom:"2px solid black",width:"fit-content"},actionButtonsDiv:{width:"100%",display:"flex",alignSelf:"flex-end",justifyContent:"flex-end"},userOptions:{display:"flex",alignItems:"center"},whiteSpace:{height:20},editIcon:{color:"green","&:hover":{cursor:"pointer"},width:"fit-content",marginRight:10},deleteIcon:{color:"red","&:hover":{cursor:"pointer"}}}})),de=function(e){var t=e.book,n=e.review,c=e.cover,r=e.username,i=le({}),s=Object(y.c)((function(e){return e.user.user})),l=Object(a.useState)(!1),u=Object(o.a)(l,2),j=u[0],b=u[1],m=Object(a.useState)((null===n||void 0===n?void 0:n.rating)||0),p=Object(o.a)(m,2),h=p[0],x=p[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:i.pageType,children:Object(P.jsx)(d.a,{variant:"h2",children:"Book review"})}),Object(P.jsxs)(ae.a,{elevation:15,className:i.inputCard,children:[Object(P.jsxs)("div",{className:i.leftSideCard,children:[Object(P.jsx)("div",{children:c&&Object(P.jsx)("img",{src:c,alt:"cover",className:i.cover})}),Object(P.jsx)("div",{style:{alignSelf:"flex-start",marginLeft:5},children:Object(P.jsxs)(d.a,{children:["Review by: ",r," "]})})]}),Object(P.jsxs)("div",{className:i.rightSideCard,children:[Object(P.jsxs)($.a,{container:!0,className:"".concat(i.inputArea),children:[Object(P.jsx)($.a,{item:!0,lg:2,md:2,children:Object(P.jsx)(d.a,{variant:"h5",children:"Title:"})}),Object(P.jsx)($.a,{item:!0,lg:10,md:10,children:Object(P.jsx)(d.a,{variant:"body2",className:"".concat(i.inputField),children:t.title})})]}),Object(P.jsxs)($.a,{container:!0,className:"".concat(i.inputArea),children:[Object(P.jsx)($.a,{item:!0,lg:2,md:2,children:Object(P.jsx)(d.a,{variant:"h5",children:"Author:"})}),Object(P.jsx)($.a,{item:!0,lg:10,md:10,children:Object(P.jsx)(d.a,{variant:"body2",className:"".concat(i.inputField),children:t.authors})})]}),Object(P.jsxs)($.a,{container:!0,className:"".concat(i.inputArea),children:[Object(P.jsx)($.a,{item:!0,lg:2,md:2,children:Object(P.jsx)(d.a,{variant:"h5",children:"Genre:"})}),Object(P.jsx)($.a,{item:!0,lg:10,md:10,children:Object(P.jsx)(d.a,{variant:"body2",className:"".concat(i.inputField),children:t.categories})})]}),Object(P.jsxs)($.a,{container:!0,className:"".concat(i.inputArea),children:[Object(P.jsx)($.a,{item:!0,lg:2,md:2,children:Object(P.jsx)(d.a,{variant:"h5",children:"Edition:"})}),Object(P.jsx)($.a,{item:!0,lg:4,md:4,children:Object(P.jsx)(d.a,{variant:"body2",className:"".concat(i.inputField),sx:{textAlign:"center"},children:t.publishedDate||"N/A"})}),Object(P.jsx)($.a,{item:!0,lg:3,md:3,children:Object(P.jsx)(d.a,{variant:"h5",sx:{marginLeft:1},children:"Pages:"})}),Object(P.jsx)($.a,{item:!0,lg:3,md:3,children:Object(P.jsx)(d.a,{variant:"body2",className:"".concat(i.inputField),sx:{textAlign:"center"},children:t.pageCount||"N/A"})})]}),Object(P.jsxs)($.a,{container:!0,className:"".concat(i.inputArea," ").concat(i.ratingArea),children:[Object(P.jsx)($.a,{item:!0,lg:2,md:2,sx:{display:"flex"},children:Object(P.jsx)(d.a,{variant:"h5",children:"Rating:"})}),Object(P.jsx)(ce.a,{name:"size-large",value:+h,readOnly:!j,size:"large",onChange:function(e,t){x(t)}})]}),Object(P.jsxs)($.a,{container:!0,className:"",sx:{width:"100%",height:"fit-content"},children:[Object(P.jsx)($.a,{item:!0,lg:1,md:1,children:Object(P.jsx)(d.a,{variant:"h5",children:"Review:"})}),Object(P.jsx)($.a,{item:!0,lg:12,md:12,children:Object(P.jsx)("textarea",{variant:"body2",disabled:!j,className:"".concat(i.inputField," ").concat(i.reviewInput),value:n.text||"N/A"})}),Object(P.jsx)($.a,{item:!0,lg:12,className:i.whiteSpace}),s.username===r&&Object(P.jsxs)($.a,{item:!0,lg:12,className:"".concat(i.actionButtonsDiv),children:[Object(P.jsxs)("div",{className:"".concat(i.userOptions," ").concat(i.editIcon),onClick:function(){return b(!0)},children:[Object(P.jsx)(ie.a,{})," ",Object(P.jsx)(d.a,{children:"Edit book"})]}),Object(P.jsxs)("div",{className:"".concat(i.userOptions," ").concat(i.deleteIcon),children:[Object(P.jsx)(se.a,{})," ",Object(P.jsx)(d.a,{children:"Delete book"})]})]})]})]})]})]})},ue=n(226),je=n(233),be=Object(k.a)((function(e){return{container:{width:"50%",margin:"auto",marginTop:30,padding:20},userDiv:{display:"flex",alignItems:"center",margin:10,justifyContent:"space-between"},userDivInfo:{marginLeft:10},leftSide:{display:"flex",alignItems:"center"},icons:{marginRight:10,"&:hover":{cursor:"pointer",color:"orange"}},acceptIcon:{color:"green"},declineIcon:{color:"red"},link:{textDecoration:"none",color:"inherit"}}})),me=n(92),pe=n.n(me),he=n(119),xe=n.n(he),Oe=function(){var e=Object(i.e)(),t=Object(a.useState)("left"),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)([]),l=Object(o.a)(s,2),d=l[0],u=(l[1],be({})),b=e.state.username,m=Object(a.useState)([]),p=Object(o.a)(m,2),h=p[0],x=p[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.get("".concat("https://goodbooks-550.herokuapp.com","/api/users/requests/").concat(b));case 3:t=e.sent,x(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(P.jsxs)(ae.a,{elevation:5,className:u.container,children:[Object(P.jsxs)(ue.a,{value:c,exclusive:!0,onChange:function(e,t){r(t)},"aria-label":"text alignment",children:[Object(P.jsx)(je.a,{value:"left","aria-label":"left aligned",children:"Friends"}),Object(P.jsx)(je.a,{value:"center","aria-label":"centered",children:"Incoming requests"}),Object(P.jsx)(je.a,{value:"right","aria-label":"right aligned",children:"Outgoing requests"})]}),"left"===c&&d.map((function(e){return Object(P.jsx)("div",{})})),"center"===c&&h.map((function(e){return Object(P.jsx)("div",{children:"INCOMING"===e.type&&Object(P.jsxs)("div",{className:u.userDiv,children:[Object(P.jsxs)("div",{className:u.leftSide,children:[Object(P.jsx)(N.b,{to:"/profile/".concat(e.username),children:Object(P.jsx)(j.a,{src:e.avatar})}),Object(P.jsxs)("div",{className:u.userDivInfo,children:[Object(P.jsx)(N.b,{to:"/profile/".concat(e.username),className:u.link,children:Object(P.jsx)("p",{children:e.username})}),Object(P.jsx)("p",{children:e.description||Object(P.jsx)("i",{children:"No description"})})]})]}),Object(P.jsxs)("div",{className:u.rightSide,children:[Object(P.jsx)(xe.a,{className:"".concat(u.icons," ").concat(u.acceptIcon)}),Object(P.jsx)(pe.a,{className:"".concat(u.icons," ").concat(u.declineIcon)})]})]})},"".concat(e.type).concat(e.username))})),"right"===c&&h.map((function(e){return Object(P.jsx)("div",{children:"OUTGOING"===e.type&&Object(P.jsxs)("div",{className:u.userDiv,children:[Object(P.jsxs)("div",{className:u.leftSide,children:[Object(P.jsx)(N.b,{to:"/profile/".concat(e.username),children:Object(P.jsx)(j.a,{src:e.avatar})}),Object(P.jsxs)("div",{className:u.userDivInfo,children:[Object(P.jsx)(N.b,{to:"/profile/".concat(e.username),className:u.link,children:Object(P.jsx)("p",{children:e.username})}),Object(P.jsx)("p",{children:e.description||Object(P.jsx)("i",{children:"No description"})})]})]}),Object(P.jsx)("div",{className:u.rightSide,children:Object(P.jsx)(pe.a,{className:"".concat(u.icons," ").concat(u.declineIcon)})})]})},"".concat(e.type).concat(e.username))}))]})},ge=n(120),ve=Object(k.a)((function(e){var t;return{inputCard:(t={backgroundColor:"white",width:"50%",margin:"auto",display:"flex"},Object(f.a)(t,e.breakpoints.up("1921"),{width:"40%"}),Object(f.a)(t,e.breakpoints.down("md"),{width:"80%"}),Object(f.a)(t,e.breakpoints.down("sm"),{width:"100%"}),t),leftSideCard:{width:"30%",height:"inherit",display:"flex",flexDirection:"column",alignItems:"space-between",justifyContent:"space-between"},noCover:{height:220,width:140,backgroundColor:"wheat",border:"2px solid black",margin:"30px auto 10px auto",display:"flex",justifyContent:"center",alignItems:"center"},cover:{height:220,width:140,margin:"20px auto",marginTop:"50px"},tips:{width:"65%",margin:"auto",backgroundColor:"wheat",paddingBottom:"5px",boxShadow:"2px 2px grey"},liItem:{padding:5,margin:"10px 15px 10px 20px"},tipsHeader:{textAlign:"center",borderBottom:"2px solid black"},bar:{borderBottom:"2px solid black",margin:"2px 0px"},rightSideCard:{width:"70%",border:"0px solid black",display:"flex",flexDirection:"column",justifyContent:"space-evenly",padding:50},required:{color:"red",marginLeft:5},button:{backgroundColor:"lightgreen",borderRadius:10,border:"none",padding:"5px 15px","&:hover":{cursor:"pointer"}},inputArea:{display:"flex",marginBottom:15},inputField:{position:"relative",backgroundColor:"wheat",borderRadius:15,border:"1px solid black",width:"100%",padding:10},checkButton:{marginLeft:10},reviewInput:{marginTop:10,width:"100%",height:"100%",boxSizing:"border-box",resize:"none",padding:15},submitButton:{marginTop:20,padding:"10px 50px"},submitButtonDiv:{display:"flex",justifyContent:"center",margin:"auto",width:"100%"},pageType:{marginLeft:100,marginTop:20,color:"black",borderBottom:"2px solid black",width:"fit-content"}}})),fe=n(93),ke=(n(162),function(){var e=ve({}),t=Object(a.useState)(0),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),s=Object(o.a)(i,2),l=s[0],u=s[1],j=Object(a.useState)(""),b=Object(o.a)(j,2),m=b[0],p=b[1],h=Object(a.useState)(""),x=Object(o.a)(h,2),O=x[0],g=x[1],v=Object(a.useState)(""),f=Object(o.a)(v,2),k=f[0],w=f[1],N=Object(a.useState)(""),C=Object(o.a)(N,2),B=C[0],A=C[1],D=Object(a.useState)(""),T=Object(o.a)(D,2),F=T[0],L=T[1],R=Object(a.useState)(""),E=Object(o.a)(R,2),z=E[0],H=E[1],U=Object(a.useState)(!1),M=Object(o.a)(U,2),_=M[0],q=M[1],W=Object(a.useState)(null),J=Object(o.a)(W,2),K=J[0],V=J[1],Z=Object(y.c)((function(e){return e.user.user})),X=function(){var e=Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.post("".concat("https://goodbooks-550.herokuapp.com","/api/books/upload2"),{username:Z.username,google:!0,bookId:K,review:{text:z,rating:c},cover:l},{withCredentials:!0});case 3:Y(),ee(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){p(""),g(""),w(""),u(null),A(""),L(""),H("")},ee=function(){return fe.b.success("Book added!",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:e.pageType,children:Object(P.jsx)(d.a,{variant:"h2",children:"Add a book"})}),Object(P.jsxs)(ae.a,{elevation:15,className:e.inputCard,children:[Object(P.jsxs)("div",{className:e.leftSideCard,children:[l&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("img",{src:l,alt:"cover",className:e.cover}),Object(P.jsx)(Q.a,{onClick:function(){return u(null)},children:"Remove cover"})]}),!l&&Object(P.jsx)("div",{className:"".concat(e.cover," ").concat(e.noCover),children:Object(P.jsxs)(Q.a,{className:"".concat(e.cover," ").concat(e.noCover),component:"label-",children:["Add cover",Object(P.jsx)("input",{type:"file",hidden:!0,onChange:function(e){return u(function(e){var t=new FileReader;t.onloadend=function(){u(t.result)},t.readAsDataURL(e)}(e.target.files[0]))}})]})}),Object(P.jsxs)("div",{className:e.tips,children:[Object(P.jsx)(d.a,{variant:"body1",className:e.tipsHeader,children:"Useful tips!"}),Object(P.jsxs)("ul",{children:[Object(P.jsx)("li",{className:e.liItem,children:Object(P.jsxs)(d.a,{variant:"body2",children:["Areas marked with ",Object(P.jsx)("span",{style:{color:"red"},children:" *"})," ","must be filled"]})}),Object(P.jsx)("li",{className:e.liItem,children:Object(P.jsx)(d.a,{variant:"body2",children:'After typing in the title, you can click the "Check" button to see if your book is already in our database. If it is, you can let us fill out the rest of the book information!'})})]}),Object(P.jsx)("div",{className:e.bar}),Object(P.jsx)("div",{className:e.bar})]})]}),Object(P.jsxs)("div",{className:e.rightSideCard,children:[Object(P.jsxs)($.a,{container:!0,className:"".concat(e.inputArea),children:[Object(P.jsx)($.a,{item:!0,lg:2,md:2,children:Object(P.jsx)(d.a,{variant:"h5",children:"Title:"})}),Object(P.jsx)($.a,{item:!0,lg:6,md:6,children:Object(P.jsx)("input",{className:e.inputField,type:"text",onChange:function(e){return p(e.target.value)},value:m,placeholder:"Type in the book title"})}),Object(P.jsx)($.a,{item:!0,children:Object(P.jsx)("div",{className:e.required,children:"*"})}),Object(P.jsx)($.a,{item:!0,lg:2,md:2,children:Object(P.jsx)("button",{onClick:function(){return q(!0)},className:"".concat(e.button," ").concat(e.checkButton),children:Object(P.jsx)(d.a,{variant:"body2",children:"Check"})})})]}),Object(P.jsxs)($.a,{container:!0,className:"".concat(e.inputArea),children:[Object(P.jsx)($.a,{item:!0,lg:2,md:2,children:Object(P.jsx)(d.a,{variant:"h5",children:"Author:"})}),Object(P.jsx)($.a,{item:!0,lg:6,md:6,children:Object(P.jsx)("input",{className:e.inputField,type:"text",disabled:!0,onChange:function(e){return g(e.target.value)},value:O,placeholder:"Type in the book author"})}),Object(P.jsx)($.a,{item:!0,lg:1,md:1,children:Object(P.jsx)("div",{className:e.required,children:"*"})})]}),Object(P.jsxs)($.a,{container:!0,className:"".concat(e.inputArea),children:[Object(P.jsx)($.a,{item:!0,lg:2,md:2,children:Object(P.jsx)(d.a,{variant:"h5",children:"Genre:"})}),Object(P.jsx)($.a,{item:!0,lg:6,md:6,children:Object(P.jsx)("input",{className:e.inputField,type:"text",onChange:function(e){return w(e.target.value)},value:k,disabled:!0,placeholder:"Type in the book genre"})}),Object(P.jsx)($.a,{item:!0,lg:1,md:1,children:Object(P.jsx)("div",{className:e.required,children:"*"})})]}),Object(P.jsxs)($.a,{container:!0,className:"".concat(e.inputArea),children:[Object(P.jsx)($.a,{item:!0,lg:2,md:2,children:Object(P.jsx)(d.a,{variant:"h5",children:"Edition:"})}),Object(P.jsx)($.a,{item:!0,lg:3,md:3,children:Object(P.jsx)("input",{className:e.inputField,type:"text",onChange:function(e){return A(e.target.value)},value:B,disabled:!0,placeholder:"Date of publishing"})}),Object(P.jsx)($.a,{item:!0,lg:2,md:2,children:Object(P.jsx)(d.a,{variant:"h5",sx:{marginLeft:1},children:"Pages:"})}),Object(P.jsx)($.a,{item:!0,lg:1,md:1,children:Object(P.jsx)("input",{className:e.inputField,type:"text",placeholder:"#",disabled:!0,onChange:function(e){return L(e.target.value)},value:F})})]}),Object(P.jsxs)($.a,{container:!0,className:"".concat(e.inputArea),children:[Object(P.jsxs)($.a,{item:!0,lg:2,md:2,sx:{display:"flex"},children:[Object(P.jsx)(d.a,{variant:"h5",children:"Rating:"}),Object(P.jsx)("div",{className:e.required,children:"*"})]}),Object(P.jsx)(ge.Rating,{onClick:function(e){r(e)},ratingValue:c})]}),Object(P.jsxs)($.a,{container:!0,className:"",sx:{width:"100%",height:"fit-content"},children:[Object(P.jsx)($.a,{item:!0,lg:1,md:1,children:Object(P.jsx)(d.a,{variant:"h5",children:"Review:"})}),Object(P.jsx)($.a,{item:!0,lg:13,md:13,children:Object(P.jsx)("textarea",{className:"".concat(e.reviewInput," ").concat(e.inputField),placeholder:"Enter review",rows:"15",onChange:function(e){return H(e.target.value)},value:z})})]}),Object(P.jsx)($.a,{container:!0,children:Object(P.jsx)($.a,{item:!0,lg:12,md:12,className:e.submitButtonDiv,children:Object(P.jsx)("button",{onClick:function(){X()},className:"".concat(e.button," ").concat(e.submitButton),children:Object(P.jsx)(d.a,{variant:"body1",children:"Submit"})})})})]})]}),Object(P.jsx)(fe.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),_&&Object(P.jsx)(ye,{title:m,setModal:q,autoFill:function(e){e.title&&p(e.title),e.authors&&g(e.authors),e.genre&&w(e.genre),e.cover&&u(e.cover),e.edition&&A(e.edition),e.pages&&L(e.pages),e.bookId&&V(e.bookId)}})]})}),we=n(218),Ne=Object(k.a)((function(e){return{container:{minHeight:"100vh",position:"relative"},bookPreview:{padding:20,display:"flex",alignItems:"center",backgroundColor:"wheat",borderBottom:"1px solid black",transition:".1s","&:hover":{cursor:"pointer",backgroundColor:"rgb(40,40,40)",color:"white"}},bookInfo:{marginLeft:20},thumbnail:{maxHeight:64},modal:Object(f.a)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",backgroundColor:"none",boxShadow:24,overflowY:"auto"},e.breakpoints.down("xs"),{width:"100%",top:"0",left:"0",transform:"translate(0,0)",margin:"auto"}),button:{display:"flex",justifyContent:"auto",width:"100%"}}})),ye=function(e){var t=e.autoFill,n=e.title,c=e.setModal,r=Object(a.useState)([]),i=Object(o.a)(r,2),s=i[0],l=i[1],d=Object(a.useState)(!1),u=Object(o.a)(d,2),j=u[0],b=u[1],m=function(){b(!1),c(!1)},p=Ne({}),h=function(){var e=Object(S.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://www.googleapis.com/books/v1/volumes","?fields=items(volumeInfo(title,authors,publishedDate,pageCount,categories,imageLinks,industryIdentifiers))&maxResults=10&q=intitle:",e.prev=2,e.next=5,G.a.get("".concat("https://www.googleapis.com/books/v1/volumes").concat("?fields=items(volumeInfo(title,authors,publishedDate,pageCount,categories,imageLinks,industryIdentifiers))&maxResults=10&q=intitle:").concat(t));case 5:n=e.sent,l(n.data.items),b(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){h(n)}),[]),Object(P.jsx)("div",{children:Object(P.jsx)(we.a,{open:j,sx:{overflow:"scroll"},onClose:m,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:p.modal,children:[Object(P.jsx)($.a,{container:!0,sx:{border:"2px solid #000"},children:null===s||void 0===s?void 0:s.map((function(e){var n,a,c,r;return Object(P.jsxs)($.a,{item:!0,lg:6,md:6,sm:12,xs:12,className:p.bookPreview,onClick:function(){return function(e){var n,a={title:e.volumeInfo.title,authors:e.volumeInfo.authors,genre:e.volumeInfo.categories,cover:null===(n=e.volumeInfo.imageLinks)||void 0===n?void 0:n.thumbnail,edition:e.volumeInfo.publishedDate,pages:e.volumeInfo.pageCount,bookId:e.volumeInfo.industryIdentifiers[1].identifier};t(a),m()}(e)},children:[Object(P.jsx)("img",{src:null===e||void 0===e||null===(n=e.volumeInfo)||void 0===n||null===(a=n.imageLinks)||void 0===a?void 0:a.thumbnail,alt:"",className:p.thumbnail}),Object(P.jsxs)("div",{className:p.bookInfo,children:[Object(P.jsx)("p",{children:null===e||void 0===e||null===(c=e.volumeInfo)||void 0===c?void 0:c.title}),Object(P.jsx)("p",{children:null===e||void 0===e||null===(r=e.volumeInfo)||void 0===r?void 0:r.authors})]})]},e.id)}))}),Object(P.jsx)("div",{className:p.button,children:Object(P.jsxs)(Q.a,{className:p.button,variant:"contained",children:[" ","CLOSE MODAL"," "]})})]})})})})},Ce=Object(k.a)((function(e){return{container:{textAlign:"start",height:"100%"},listItem:{listStyle:"none",margin:5,display:"flex",alignItems:"center"},closeButton:{display:"flex",alignItems:"flex-end",justifyContent:"center"},loading:{margin:"auto"},counter:{marginLeft:5}}})),Ie=n(227),Se=function(e){var t=e.user,n=e.setStatistics,c=Ce({}),r=Object(a.useState)(0),i=Object(o.a)(r,2),s=i[0],l=i[1],u=Object(a.useState)(0),j=Object(o.a)(u,2),b=j[0],m=j[1],p=Object(a.useState)(0),h=Object(o.a)(p,2),x=h[0],O=h[1],g=Object(a.useState)(""),v=Object(o.a)(g,2),f=v[0],k=v[1],w=Object(a.useState)(!0),N=Object(o.a)(w,2),y=N[0],C=N[1];return Object(a.useEffect)((function(){var e=function(e){if(0==e.length)return null;for(var t={},n=e[0].bookInfo.categories,a=1,c=0;c<e.length;c++){var r=e[c].bookInfo.categories;null==t[r]?t[r]=1:t[r]++,t[r]>a&&(n=r,a=t[r])}return n},n=function(){var n=Object(S.a)(I.a.mark((function n(){var a,c,r,i;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=0,c=0,r=0,n.prev=1,n.next=4,G.a.get("".concat("https://goodbooks-550.herokuapp.com","/api/books/all/").concat(t));case 4:(i=n.sent).data.forEach((function(e){a++,c+=+e.bookInfo.pageCount,r+=+e.review.rating})),k(e(i.data)),m(a),l(c),O(Math.round(r/a*100)/100),C(!1),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(){return n.apply(this,arguments)}}();n()}),[]),y?Object(P.jsx)("div",{className:c.loading,children:Object(P.jsx)(Ie.a,{})}):Object(P.jsxs)("div",{className:c.container,children:[Object(P.jsxs)("ul",{children:[Object(P.jsxs)("li",{className:c.listItem,children:[Object(P.jsx)(d.a,{variant:"subtitle2",children:" Books read: "}),Object(P.jsx)("span",{className:c.counter,children:b})]}),Object(P.jsxs)("li",{className:c.listItem,children:[Object(P.jsx)(d.a,{variant:"subtitle2",children:" Pages read: "}),Object(P.jsx)("span",{className:c.counter,children:s})]}),Object(P.jsxs)("li",{className:c.listItem,children:[Object(P.jsx)(d.a,{variant:"subtitle2",children:" Average rating: "})," ",Object(P.jsxs)("span",{className:c.counter,children:[" ",x]})]}),Object(P.jsxs)("li",{className:c.listItem,children:[Object(P.jsx)(d.a,{variant:"subtitle2",children:" Most read genre: "})," ",Object(P.jsxs)("span",{className:c.counter,children:[" ",f]})]})]}),Object(P.jsx)("div",{className:c.closeButton,children:Object(P.jsx)(Q.a,{sx:{backgroundColor:"lightgreen",marginBottom:5},variant:"outlined",onClick:function(){return n(!1)},children:"Close statistics"})})]})},Be=Object(k.a)((function(e){return{inputField:{position:"relative",backgroundColor:"white",borderRadius:15,border:"1px solid black",width:"100%",padding:"5px 10px","&:focus":{outline:"none"}},reviewInput:{marginLeft:20,width:"100%",height:"100%",boxSizing:"border-box",resize:"none",padding:15,minHeight:100},postCommentDiv:{padding:10,borderBottom:"1px solid black",borderTopRightRadius:"10px",borderTopLeftRadius:"10px"},postCommentDivUpper:{display:"flex"},postCommentDivBottom:{display:"flex",justifyContent:"flex-end",marginRight:10,marginTop:10}}})),Ae=function(e){var t=e.userBook,n=e.addNewComments,c=Be({}),r=Object(a.useState)(""),i=Object(o.a)(r,2),s=i[0],l=i[1],d=Object(y.c)((function(e){return e.user.user})),u=function(){var e=Object(S.a)(I.a.mark((function e(){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.post("".concat("https://goodbooks-550.herokuapp.com","/api/books/comment"),{username:null===d||void 0===d?void 0:d.username,comment:s,userBook:t},{withCredentials:!0});case 3:a=e.sent,n(a.data),l(""),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:c.postCommentDiv,children:[Object(P.jsxs)("div",{className:c.postCommentDivUpper,children:[Object(P.jsx)(j.a,{src:d.avatar}),Object(P.jsx)("textarea",{className:"".concat(c.inputField," ").concat(c.reviewInput),value:s,onChange:function(e){return l(e.target.value)},placeholder:"Share your thoughts on the review..."})]}),Object(P.jsx)("div",{className:c.postCommentDivBottom,children:Object(P.jsx)("button",{onClick:u,children:"Submit"})})]})},De=n(17),Te=n(121),Fe=n.n(Te),Le=Object(k.a)((function(e){return{comment:{display:"flex",alignItems:"center",borderBottom:"1px dashed black",padding:10},avatar:{margin:10},text:{color:"black"},username:{color:"crimson",marginRight:10},rightSideCommentDiv:{display:"flex",border:"1px solid black",width:""},gridItem:{display:"flex",alignItems:"center",width:"100%"},grid:{display:"flex"},buttonAction:{display:"flex",justifyContent:"flex-end"},icons:{color:"green","&:hover":{cursor:"pointer",color:"red"}}}})),Re="https://goodbooks-550.herokuapp.com",Ee=function(e){var t=e.userBook,n=e.newComments,c=Le({}),r=Object(a.useState)([]),i=Object(o.a)(r,2),s=i[0],l=i[1],u=Object(y.c)((function(e){return e.user.user})),b=function(){var e=Object(S.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.delete("".concat(Re,"/api/books/comment/").concat(t));case 3:e.sent,n=s.filter((function(e){return e._id!==t})),l(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(I.a.mark((function e(){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.get("".concat(Re,"/api/books/comments/").concat(t));case 3:n=e.sent,l(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){n&&l([n].concat(Object(De.a)(s)))}),[n]),Object(P.jsx)("div",{children:null===s||void 0===s?void 0:s.map((function(e){return Object(P.jsxs)("div",{className:c.comment,children:[Object(P.jsx)(j.a,{src:e.avatar,className:c.avatar}),Object(P.jsxs)($.a,{container:!0,className:c.grid,children:[Object(P.jsxs)($.a,{item:!0,lg:1,className:c.gridItem,children:[Object(P.jsx)(d.a,{variant:"body2",className:"".concat(c.text," ").concat(c.username),sx:{marginRight:2},children:e.username})," "]}),Object(P.jsx)($.a,{item:!0,lg:4,children:Object(P.jsx)(d.a,{variant:"body2",className:"".concat(c.text," ").concat(c.username),sx:{marginLeft:2},children:e.date})}),Object(P.jsx)($.a,{item:!0,lg:7,className:c.buttonAction,children:u.username===e.username?Object(P.jsx)(se.a,{className:c.icons,onClick:function(){return b(e._id)}}):Object(P.jsx)(Fe.a,{className:c.icons})}),Object(P.jsx)($.a,{item:!0,lg:12,children:Object(P.jsx)(d.a,{variant:"body1",className:c.text,children:e.text})})]})]},e._id)}))})},ze=Object(k.a)((function(e){return{container:{width:"50%",margin:"auto",padding:20,marginTop:30},user:{display:"flex",alignItems:"center",margin:20,borderBottom:"1px dashed black"},rightSide:{marginLeft:20},avatar:{"&:hover":{cursor:"pointer"}},username:{"&:hover":{cursor:"pointer"}}}})),He=function(){var e=ze({}),t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(i.e)().state.filter;return console.log(s),Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.post("".concat("https://goodbooks-550.herokuapp.com","/api/users/filter"),{string:s},{withCredentials:!0});case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();s.length>0&&e()}),[s]),Object(P.jsxs)(ae.a,{elevation:5,className:e.container,children:[c.length<=0&&Object(P.jsx)(d.a,{variant:"body1",children:"No users match search term"}),c.map((function(t){return Object(P.jsxs)("div",{className:e.user,children:[Object(P.jsxs)("div",{className:e.leftSide,children:[Object(P.jsx)(N.b,{to:"/profile/".concat(t.username),children:Object(P.jsx)(j.a,{src:t.avatar,className:e.avatar})}),Object(P.jsx)(d.a,{variant:"body1",className:e.username,children:t.username})]}),Object(P.jsx)("div",{className:e.rightSide,children:Object(P.jsx)(d.a,{variant:"body2",children:t.description||Object(P.jsx)("i",{children:"No description"})})})]},t._id)}))]})},Ue=function(){var e=Object(a.useState)([{title:"The Poison King",rating:5,cover:"http://books.google.com/books/content?id=dKnFZa4LNjQC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"},{title:"King Arthur",rating:4,cover:"http://books.google.com/books/content?id=7F7CBAAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"},{title:"The Mermaid, the Witch, and the Sea",rating:1,cover:"http://books.google.com/books/content?id=O_m5DwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"},{title:"Jack and the Beanstalk",rating:3,cover:"http://books.google.com/books/content?id=y_sBhDO8glIC&printsec=frontcover&img=1&zoom=1&source=gbs_api"}]),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){}),[]),Object(P.jsxs)("div",{className:"test-container",children:[Object(P.jsx)("label",{htmlFor:"sort-value",children:"Choose a sort method:"}),Object(P.jsxs)("select",{name:"sort-value",onChange:function(e){var t=n.map((function(e){return Object(B.a)({},e)}));t.sort((function(t,n){switch(+e.target.value){case 1:return t.title.toUpperCase()>n.title.toUpperCase()?1:-1;case 2:return t.title.toUpperCase()<n.title.toUpperCase()?1:-1;case 3:return t.rating-n.rating;case 4:return n.rating-t.rating}})),c(t)},children:[Object(P.jsx)("option",{value:1,children:"Asc."}),Object(P.jsx)("option",{value:2,children:"Desc."}),Object(P.jsx)("option",{value:3,children:"Rating Asc."}),Object(P.jsx)("option",{value:4,children:"Rating Desc."})]}),n.map((function(e){return Object(P.jsxs)("div",{className:"book-field",children:[Object(P.jsx)("img",{src:e.cover,alt:"",className:"book-cover"}),Object(P.jsx)("h2",{className:"book-rating",children:e.rating})]},e.cover)})),Object(P.jsx)("button",{onClick:function(){var e={username:"Nikola",email:"nikola@gmail.com",avatar:"img-link-1",desc:"this is my first description",id:"sda123sne21"};e=Object(B.a)(Object(B.a)({},e),{avatar:"img-link-2",desc:"this is my second description",nationality:"croatia"}),console.log(e)},children:"Merge users"})]})},Me=Object(k.a)((function(e){return{container:{position:"relative"},commentContainer:{width:"50%",margin:"auto",marginTop:20,borderTopRightRadius:"10px",borderTopLeftRadius:"10px",backgroundColor:"wheat"}}})),Ge=function(){var e=Me({}),t=Object(i.e)(),n=Object(y.c)((function(e){return e.user.user})),c=Object(a.useState)(),r=Object(o.a)(c,2),s=r[0],l=r[1],d=t.state,u=d.book,j=d.review,b=d.cover,m=d.username;return Object(P.jsxs)("div",{className:e.container,children:[Object(P.jsx)(_,{}),Object(P.jsx)(de,{book:u,review:j,cover:b,username:m}),Object(P.jsxs)("div",{className:e.commentContainer,children:[n.active&&Object(P.jsx)(Ae,{userBook:j.userBookId,addNewComments:function(e){l(e)}}),Object(P.jsx)(Ee,{userBook:j.userBookId,newComments:s})]})]})},Pe=Object(k.a)((function(e){return{container:{position:"relative"}}})),_e=function(){var e=Pe({});return Object(P.jsxs)("div",{className:e.container,children:[Object(P.jsx)(_,{}),Object(P.jsx)(ke,{})]})},qe=Object(k.a)((function(e){return{container:{position:"relative"}}})),We=function(){var e=qe({});return Object(P.jsxs)("div",{className:e.container,children:[Object(P.jsx)(_,{}),Object(P.jsx)(Oe,{})]})},Je=Object(k.a)((function(e){var t;return{profileWall:{margin:0,textAlign:"center"},body:(t={display:"flex",justifyContent:"space-evenly"},Object(f.a)(t,e.breakpoints.down("sm"),{margin:0,flexDirection:"column-reverse"}),Object(f.a)(t,"toggleButton",{textAlign:"center"}),t),toggleButton:Object(f.a)({display:"none",backgroundColor:"lightgreen"},e.breakpoints.down("sm"),{display:"block"}),books:Object(f.a)({},e.breakpoints.down("sm"),{display:function(e){return"books"===e.alignment?"block":"none"}}),card:Object(f.a)({},e.breakpoints.down("sm"),{display:function(e){return"card"===e.alignment?"block":"none"}})}})),Ke=function(){var e=Object(a.useState)("books"),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(o.a)(r,2),l=s[0],d=s[1],u=Object(a.useState)(!1),j=Object(o.a)(u,2),b=j[0],m=j[1],p=Object(i.g)().username,h=Je({alignment:n});return Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.get("".concat("https://goodbooks-550.herokuapp.com","/api/users/").concat(p));case 3:t=e.sent,d(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[p]),Object(P.jsxs)("div",{className:h.profileWall,children:[Object(P.jsx)(_,{}),Object(P.jsxs)("div",{className:h.toggleButton,sx:{marginTop:10},children:[Object(P.jsx)(Q.a,{value:"books",onClick:function(){return c("books")},children:"Books"}),Object(P.jsx)(Q.a,{value:"card",onClick:function(){return c("card")},children:"Card"})]}),Object(P.jsxs)($.a,{container:!0,className:h.body,children:[Object(P.jsx)($.a,{item:!0,lg:9,className:h.books,children:Object(P.jsx)(ne,{})}),Object(P.jsx)($.a,{item:!0,lg:3,className:h.card,children:b?Object(P.jsx)(V,{user:l,setEdit:m,setUser:d}):Object(P.jsx)(J,{user:l,setEdit:m})})]})]})},Qe=function(){return Object(P.jsxs)("div",{style:{height:"80vh"},children:[Object(P.jsx)(_,{}),Object(P.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(P.jsx)("img",{src:"https://le3emepilier.com/wp-content/uploads/2019/04/img-under-construction.png",alt:""})})]})},Ve=n(217),Ze=Object(k.a)((function(e){return{container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},form:Object(f.a)({width:"fit-content",padding:30,backgroundImage:"url(".concat(q,")"),display:"flex",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column"}),leftSide:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},middleSide:Object(f.a)({border:"1px solid black",margin:"0px 20px"},e.breakpoints.down("sm"),{margin:"0px 20px 10px 20px"}),logo:Object(f.a)({right:0,maxHeight:200},e.breakpoints.down("sm"),{maxHeight:100}),formType:{color:"crimson","&:hover":{cursor:"pointer"}},inputField:{marginTop:"2px"},routePath:{marginBottom:10},button:{display:"flex",justifyContent:"center"},goodbooksName:{fontSize:"32px",fontFamily:"Arial",marginBottom:10,width:"100%",textAlign:"center"}}})),Xe="https://goodbooks-550.herokuapp.com",Ye=function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),l=s[0],u=s[1],j=Object(a.useState)(""),b=Object(o.a)(j,2),m=b[0],p=b[1],x=Object(a.useState)(""),O=Object(o.a)(x,2),g=O[0],v=O[1],f=Object(a.useState)(""),k=Object(o.a)(f,2),w=k[0],N=k[1],C=Ze({}),B=Object(y.b)(),A=Object(i.f)(),D=function(){var e=Object(S.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.post("".concat(Xe,n?"/auth/login":"/auth/register"),{username:m,password:g,confirmPassword:w,email:l},{withCredentials:!0});case 3:return t=e.sent,e.next=6,H(t.data,B);case 6:console.log("loged"),n?A("/"):c(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(P.jsx)("div",{className:C.container,children:Object(P.jsx)(ae.a,{elevation:5,children:Object(P.jsxs)("form",{className:C.form,children:[Object(P.jsxs)("div",{className:C.leftSide,children:[Object(P.jsx)("img",{src:h,alt:"logo",className:C.logo}),Object(P.jsx)("span",{className:C.goodbooksName,children:"GoodBooks"})]}),Object(P.jsx)("div",{className:C.middleSide}),Object(P.jsxs)("div",{className:C.rightSide,children:[Object(P.jsx)(d.a,{variant:"h5",children:n?"Log in":"Register"}),Object(P.jsx)("div",{children:n?Object(P.jsxs)(d.a,{variant:"body2",className:C.routePath,children:["New to GoodBooks?",Object(P.jsx)("span",{className:C.formType,onClick:function(){return c(!n)},children:" Sign up now"})]}):Object(P.jsxs)(d.a,{variant:"body2",className:C.routePath,children:["Already have an account?",Object(P.jsx)("span",{className:C.formType,onClick:function(){return c(!n)},children:" Sign in"})]})}),!n&&Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:C.inputField,children:Object(P.jsx)(Ve.a,{id:"standard-basic",label:"Username",variant:"standard",value:m,onChange:function(e){return p(e.target.value)}})})}),Object(P.jsx)("div",{className:C.inputField,children:Object(P.jsx)(Ve.a,{id:"standard-basic",label:"Email",variant:"standard",type:"email",value:l,onChange:function(e){return u(e.target.value)}})}),Object(P.jsx)("div",{className:C.inputField,children:Object(P.jsx)(Ve.a,{id:"standard-basic",label:"Password",variant:"standard",type:"password",value:g,onChange:function(e){return v(e.target.value)}})}),!n&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:C.inputField,children:Object(P.jsx)(Ve.a,{id:"standard-basic",label:"Confirm password",type:"password",variant:"standard",value:w,onChange:function(e){return N(e.target.value)}})}),Object(P.jsx)("br",{})]}),Object(P.jsx)("br",{}),Object(P.jsx)("div",{className:C.button,children:Object(P.jsx)(Q.a,{variant:"contained",onClick:D,children:n?"Log in":"Register"})})]})]})})})},$e=function(){return Object(P.jsxs)("div",{children:[Object(P.jsx)(_,{}),Object(P.jsx)(He,{})]})},et=function(){var e=Object(y.b)();return Object(a.useEffect)((function(){JSON.parse(localStorage.getItem("user"))&&H(JSON.parse(localStorage.getItem("user")),e)}),[e]),Object(P.jsx)("div",{children:Object(P.jsxs)(i.c,{children:[Object(P.jsx)(i.a,{path:"/",element:Object(P.jsx)(Qe,{})}),Object(P.jsx)(i.a,{path:"/login",element:Object(P.jsx)(Ye,{})}),Object(P.jsx)(i.a,{path:"/profile/:username",element:Object(P.jsx)(Ke,{})}),Object(P.jsx)(i.a,{path:"/upload",element:Object(P.jsx)(_e,{})}),Object(P.jsx)(i.a,{path:"/book/:id",element:Object(P.jsx)(Ge,{})}),Object(P.jsx)(i.a,{path:"/profile/:username/friends",element:Object(P.jsx)(We,{})}),Object(P.jsx)(i.a,{path:"/search/:filter",element:Object(P.jsx)($e,{})}),Object(P.jsx)(i.a,{path:"/test",element:Object(P.jsx)(Ue,{})})]})})},tt=Object(A.a)({reducer:{user:z}});r.a.render(Object(P.jsxs)(N.a,{children:[Object(P.jsx)(y.a,{store:tt,children:Object(P.jsx)(et,{})}),","]}),document.getElementById("root"))}},[[163,1,2]]]);
//# sourceMappingURL=main.0dfddb24.chunk.js.map