(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{142:function(e,t,n){},170:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(40),i=n.n(r),c=n(21),o=(n(142),n(4)),s=n(243),l=n(245),d=n(246),u=n(33),b=n(238),j=n(123),p=n(224),m=n(236),h=n.p+"static/media/logo.c3492d2f.png",x=n(119),g=n.n(x),v=n(118),f=n.n(v),O=n(3),w=n(232),k=Object(w.a)((function(e){return{navbar:{backgroundColor:"#301911",padding:5,display:"flex",justifyContent:"space-between"},leftSide:Object(O.a)({display:"flex",alignItems:"center"},e.breakpoints.down("sm"),{marginLeft:-10}),rightSide:{display:"flex",alignItems:"center"},logo:Object(O.a)({maxWidth:75,"&:hover":{cursor:"pointer"}},e.breakpoints.down("sm"),{maxWidth:36}),titleLG:Object(O.a)({paddingLeft:10,"&:hover":{cursor:"pointer"}},e.breakpoints.down("sm"),{display:"none"}),titleSM:Object(O.a)({paddingLeft:5,"&:hover":{cursor:"pointer"}},e.breakpoints.up("sm"),{display:"none"}),search:Object(O.a)({backgroundColor:"wheat",borderRadius:35,width:300,height:40,paddingLeft:10},e.breakpoints.down("sm"),{transition:".3s",width:function(e){return e.open?0:180},backgroundColor:function(e){return e.open?"rgb(110, 37, 3)":"wheat"},fontSize:"12px"}),searchIcon:{marginLeft:-35,zIndex:100,"&:hover":{cursor:"pointer"}},avatar:{marginLeft:10,"&:hover":{cursor:"pointer"}},dropDownMenuItem:{backgroundColor:"#301911"},link:{textDecoration:"none",color:"inherit"},actions:{display:"flex",alignItems:"center"},icon:{height:64,"&:hover":{cursor:"pointer",color:"lightgreen"}}}})),y=n(19),C=n(22),N=n(8),I=n.n(N),S=n(15),B=n(18),D=n(88),A=Object(D.b)({name:"user",initialState:{user:{active:!1},pending:!0,error:!1},reducers:{updateStart:function(e){e.pending=!0},updateSuccess:function(e,t){e.user=Object(B.a)(Object(B.a)({},e.user),t.payload),e.user.changedAvatar&&(e.user.avatar=e.user.changedAvatar,delete e.user.changedAvatar),e.user.active=!0,localStorage.setItem("user",JSON.stringify(Object(B.a)(Object(B.a)({},e.user),t.payload))),e.pending=!1},logOut:function(e){e.user={active:!1},localStorage.removeItem("user")},updateError:function(e){e.error=!0,e.pending=!1}}}),T=A.actions,R=T.updateStart,L=T.updateError,F=T.updateSuccess,E=T.logOut,P=A.reducer,z=function(){var e=Object(S.a)(I.a.mark((function e(t,n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(R()),t)try{n(F(t))}catch(a){console.log(a),n(L())}case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(S.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(R());try{t(E())}catch(n){t(L())}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=n(16),U=n.n(M),q="https://goodbooks-550.herokuapp.com",G=n(0),_=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=(t[1],Object(a.useState)("")),i=Object(o.a)(r,2),x=i[0],v=i[1],O=k({open:n}),w=Object(C.c)((function(e){return e.user.user})),N=Object(C.b)(),I=Object(c.g)(),S=Object(a.useState)(null),B=Object(o.a)(S,2),D=B[0],A=B[1],T=Boolean(D),R=function(){A(null)};return Object(G.jsx)(s.a,{position:"sticky",children:Object(G.jsxs)(l.a,{className:O.navbar,children:[Object(G.jsxs)("div",{className:O.leftSide,children:[Object(G.jsx)(y.b,{to:"/",children:Object(G.jsx)("img",{src:h,alt:"logo",className:O.logo})}),Object(G.jsx)(y.b,{to:"/",style:{color:"inherit",textDecoration:"none"},children:Object(G.jsx)(d.a,{variant:"h4",component:"h4",className:O.titleLG,children:"GoodBooks"})}),Object(G.jsx)(d.a,{variant:"h6",component:"h4",className:O.titleSM,children:"GoodBooks"})]}),Object(G.jsxs)("div",{className:O.rightSide,children:[Object(G.jsx)(u.c,{placeholder:"Search for users...",className:O.search,value:x,onChange:function(e){v(e.target.value)}}),Object(G.jsx)(y.b,{to:x.length>0?"/search/".concat(x):"#",state:{filter:x},style:{zIndex:"0"},onClick:function(){return v("")},children:Object(G.jsx)(f.a,{className:O.searchIcon})}),Object(G.jsx)("div",{className:O.test,children:w.active?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:O.actions,children:[Object(G.jsx)(y.b,{to:"/profile/".concat(w.username),children:Object(G.jsx)(b.a,{src:w.avatar,alt:"profile picture",className:O.avatar})}),Object(G.jsx)(g.a,{className:O.icon,onClick:function(e){A(e.currentTarget)}})]}),Object(G.jsxs)(j.a,{id:"basic-menu",anchorEl:D,open:T,onClose:R,TransitionComponent:p.a,className:O.dropDownMenu,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(G.jsx)(m.a,{className:"".concat(O.dropDownMenuItem," "),onClick:function(){R(),H(N),I("/login")},children:"Logout"}),w.isAdmin&&Object(G.jsx)(m.a,{className:"".concat(O.dropDownMenuItem," "),onClick:function(){R(),I("/admin/dashboard")},children:"Admin Panel"})]})]}):Object(G.jsx)(y.b,{to:"/login",className:O.link,children:Object(G.jsx)(d.a,{variant:"body2",sx:{marginLeft:2},children:"Sign in"})})})]})]})})},W=n.p+"static/media/lib-card-bg.d2bb499a.jpg",J=Object(w.a)((function(e){return{container:Object(O.a)({},e.breakpoints.down("sm"),{paddingTop:"0px"}),cardContainer:{width:270,minHeight:400,margin:50,backgroundImage:"url(".concat(W,")"),display:"flex",flexDirection:"column",alignItems:"space-between",position:"relative"},personalInfo:{display:"flex",alignItems:"center"},picture:{maxHeight:200,maxWidth:150,margin:5},listItem:{listStyle:"none",marginLeft:15,marginTop:5,width:"100%",textAlign:"start",textDecoration:"underline","&:hover":{cursor:"pointer"}},cardHolder:{width:"100%",textAlign:"center",borderBottom:"2px solid black"},bottomBorder:{position:"absolute",width:"100%",bottom:10,borderBottom:"5px solid brown"},bottomBorder2:{position:"absolute",width:"100%",bottom:18,borderBottom:"5px solid black"},link:{textDecoration:"none",color:"inherit"}}})),K=(n(82),n(26)),Z=function(e){var t=e.user,n=e.setEdit,r=J({}),i=Object(C.c)((function(e){return e.user.user})),c=Object(a.useState)(!1),s=Object(o.a)(c,2),l=s[0],u=s[1],b=Object(a.useState)(null===t||void 0===t?void 0:t.banned),j=Object(o.a)(b,2),p=j[0],m=j[1],h=Object(a.useState)(!1),x=Object(o.a)(h,2),g=x[0],v=x[1],f=function(){return(null===i||void 0===i?void 0:i.username)===(null===t||void 0===t?void 0:t.username)},O=function(){var e=Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("".concat(q,"/api/users/addfriend"),{source:i.username,destination:t.username},{withCredentials:!0});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.put("".concat(q,"/api/users/ban/").concat(t.username),{banStatus:!t.banned},{withCredentials:!0});case 3:m(!p),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){(null===t||void 0===t?void 0:t.banned)!==p&&m(t.banned)}),[t]),Object(G.jsxs)("div",{className:r.container,children:[Object(G.jsxs)("div",{className:r.cardContainer,children:[Object(G.jsxs)(d.a,{variant:"h5",className:r.cardHolder,children:[null===t||void 0===t?void 0:t.username,"'s library card"]}),Object(G.jsxs)("div",{className:r.personalInfo,children:[Object(G.jsx)("img",{src:null===t||void 0===t?void 0:t.avatar,alt:"",className:r.picture}),p?Object(G.jsx)(d.a,{variant:"h6",sx:{color:"crimson"},children:"BANNED"}):Object(G.jsx)(d.a,{variant:"body2",children:(null===t||void 0===t?void 0:t.description)||"There seems to be nothing here...."})]}),!l&&Object(G.jsxs)("ul",{children:[Object(G.jsx)(y.b,{to:"/upload",className:r.link,children:f()&&!(null===i||void 0===i?void 0:i.banned)&&Object(G.jsx)("li",{className:r.listItem,children:"Add a book"})}),Object(G.jsx)(y.b,{to:"/profile/".concat(null===t||void 0===t?void 0:t.username,"/friends"),state:{username:null===t||void 0===t?void 0:t.username,user:t},className:r.link,children:f()?Object(G.jsxs)("li",{className:r.listItem,children:["Friends ",function(){var e=null===t||void 0===t?void 0:t.requests.filter((function(e){return"INCOMING"===e.type}));return(null===e||void 0===e?void 0:e.length)>0?"(".concat(null===e||void 0===e?void 0:e.length," pending)"):""}()]}):Object(G.jsx)("li",{className:r.listItem,children:"Friends "})}),!f()&&!(null===t||void 0===t?void 0:t.friends.includes(i.username))&&Object(G.jsx)("li",{className:r.listItem,onClick:O,children:"Add as friend"}),Object(G.jsx)("li",{className:r.listItem,onClick:function(){return u(!0)},children:"Statistics"}),f()&&Object(G.jsx)("li",{onClick:function(){return n(!0)},className:r.listItem,children:"Edit profile"}),!f()&&Object(G.jsx)("li",{className:r.listItem,onClick:function(){return v(!0)},children:"Report user"}),!f()&&i.isAdmin&&Object(G.jsx)("li",{className:r.listItem,onClick:w,children:p?"Unban user":"Ban user"})]}),l&&Object(G.jsx)(Ne,{user:t.username,setStatistics:u}),Object(G.jsx)("div",{className:r.bottomBorder}),Object(G.jsx)("div",{className:r.bottomBorder2})]}),g&&Object(G.jsx)(Ye,{setModal:v,user:t.username,notify:function(){return K.b.success("Report submitted!",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}}),Object(G.jsx)(K.a,{})]})},$=Object(w.a)((function(e){return{container:Object(O.a)({},e.breakpoints.down("sm"),{paddingTop:"0px"}),cardContainer:{width:270,minHeight:400,margin:50,backgroundImage:"url(".concat(W,")"),display:"flex",flexDirection:"column",alignItems:"space-between",position:"relative"},personalInfo:{display:"flex",alignItems:"center"},picture:{maxHeight:200,maxWidth:150,margin:"auto",marginTop:10},cardHolder:{width:"100%",textAlign:"center",borderBottom:"2px solid black"},reviewInput:{marginTop:10,width:"100%",boxSizing:"border-box",resize:"none"},inputField:{position:"relative",backgroundColor:"wheat",borderRadius:0,borderTop:"1px solid black",borderRight:"none",borderLeft:"none",borderBottom:"1px solid black",width:"100%",padding:10},bottomBorder:{position:"absolute",width:"100%",bottom:10,borderBottom:"5px solid brown"},bottomBorder2:{position:"absolute",width:"100%",bottom:18,borderBottom:"5px solid black"}}})),Y=n(239),V=function(e){var t=e.user,n=e.setEdit,r=e.setUser,i=Object(a.useState)(""),c=Object(o.a)(i,2),s=c[0],l=c[1],u=Object(a.useState)(null),b=Object(o.a)(u,2),j=b[0],p=b[1],m=Object(C.b)(),h=$({}),x=function(){var e=Object(S.a)(I.a.mark((function e(){var a,i,c,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.put("".concat(q,"/api/users/").concat(t.username),Object(B.a)(Object(B.a)({username:null===t||void 0===t?void 0:t.username},j&&{avatar:j}),s&&{description:s}),{withCredentials:!0});case 3:a=e.sent,i=a.data,i.avatar,c=i.email,o=i.username,i.description,z(Object(B.a)(Object(B.a)({},j&&{changedAvatar:j}),{},{email:c,username:o}),m),r(Object(B.a)(Object(B.a)(Object(B.a)({},t),j&&{avatar:j}),s&&{description:s})),n(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(G.jsx)("div",{className:h.container,children:Object(G.jsxs)("div",{className:h.cardContainer,children:[Object(G.jsxs)(d.a,{variant:"h5",className:h.cardHolder,children:[null===t||void 0===t?void 0:t.username,"'s library card"]}),Object(G.jsx)("div",{className:h.personalInfo,children:Object(G.jsx)("img",{src:j||(null===t||void 0===t?void 0:t.avatar),alt:"",className:h.picture})}),Object(G.jsxs)(Y.a,{component:"label",children:["Add picture",Object(G.jsx)("input",{type:"file",hidden:!0,onChange:function(e){return p(function(e){var t=new FileReader;t.onloadend=function(){p(t.result)},t.readAsDataURL(e)}(e.target.files[0]))}})]}),Object(G.jsx)(d.a,{variant:"body2",children:"Enter description:"}),Object(G.jsx)("textarea",{placeholder:null===t||void 0===t?void 0:t.description,className:"".concat(h.reviewInput," ").concat(h.inputField),name:"",id:"",cols:"20",rows:"5",value:s,onChange:function(e){return l(e.target.value)}}),Object(G.jsx)(Y.a,{onClick:x,children:"Submit changes"}),Object(G.jsx)(Y.a,{onClick:function(){return n(!1)},sx:{color:"red",marginBottom:5},children:"Discard Changes"}),Object(G.jsx)("div",{className:h.bottomBorder}),Object(G.jsx)("div",{className:h.bottomBorder2})]})})},X="https://media.istockphoto.com/vectors/five-wooden-boards-in-flat-design-vector-id1124385741?k=20&m=1124385741&s=612x612&w=0&h=W9wBbHp1O7GGXZoyKlVF-sn8KcK_Km0byzkF9jv-8MI=",Q=Object(w.a)((function(e){return{container:Object(O.a)({margin:50},e.breakpoints.down("sm"),{margin:0,paddingTop:"0px"}),sort:{margin:10,color:"black",display:"flex",alignItems:"center",fontSize:18,border:"1px solid #301911",width:"fit-content",backgroundColor:"wheat",padding:"2px 5px",borderRadius:30,"&:hover":{cursor:"pointer"}},sortIcon:{rotate:"90deg",color:"brown",marginRight:5},option:{fontWeight:"bold"},sortDropdown:{backgroundColor:"wheat",padding:10,paddingLeft:0,border:"none",borderRadius:30},bookCover:Object(O.a)({width:120,height:180,marginBottom:"-20px",marginTop:20,transition:".3s"},e.breakpoints.down("sm"),{width:60,height:90}),gridContainer:{width:"100%"},gridSeperator:{display:"flex",justifyContent:"center",borderImage:"url(".concat(X,") 30 stretch"),borderBottom:"25px solid "},gridShelfEnd:{borderImage:"url(".concat(X,") 30 stretch"),borderBottom:"25px solid ",flexGrow:1}}})),ee=n(247),te=n(240),ne=n(120),ae=n.n(ne),re=function(){var e=Q({}),t=Object(a.useState)([]),n=Object(o.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!0),l=Object(o.a)(s,2),d=l[0],u=l[1],b=Object(c.h)().username;return Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("".concat(q,"/api/books/all/").concat(b));case 3:t=e.sent,i(t.data),u(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[b]),d?Object(G.jsx)(ee.a,{}):Object(G.jsxs)("div",{className:e.container,children:[Object(G.jsxs)("div",{className:e.sort,children:[Object(G.jsx)(ae.a,{className:e.sortIcon}),Object(G.jsx)("span",{children:"Sort by"}),Object(G.jsxs)("select",{name:"sort-value",className:e.sortDropdown,onChange:function(e){return function(e){var t=r.map((function(e){return Object(B.a)({},e)}));t.sort((function(t,n){switch(+e){case 1:return t.review.createdAt>n.review.createdAt?1:-1;case 2:return t.review.createdAt<n.review.createdAt?1:-1;case 3:return t.bookInfo.title.toUpperCase()>n.bookInfo.title.toUpperCase()?1:-1;case 4:return t.bookInfo.title.toUpperCase()<n.bookInfo.title.toUpperCase()?1:-1;case 5:return t.review.rating-n.review.rating;case 6:return n.review.rating-t.review.rating}})),i(t)}(e.target.value)},children:[Object(G.jsxs)("option",{value:1,className:e.option,children:[" ","Oldest"]}),Object(G.jsx)("option",{value:2,className:e.option,children:"Newest"}),Object(G.jsx)("option",{value:3,className:e.option,children:"Name Asc."}),Object(G.jsx)("option",{value:4,className:e.option,children:"Name Desc."}),Object(G.jsx)("option",{value:5,className:e.option,children:"Rating Asc."}),Object(G.jsx)("option",{value:6,className:e.option,children:"Rating Desc."})]})]}),Object(G.jsxs)(te.a,{container:!0,className:e.gridContainer,children:[r.map((function(t){return Object(G.jsx)(te.a,{item:!0,lg:2,md:3,sm:4,xs:6,className:e.gridSeperator,children:Object(G.jsx)(y.b,{to:"/book/".concat(t.review.userBookId),state:{book:t.bookInfo,review:t.review,cover:t.cover,username:b,bookId:t.bookId},children:Object(G.jsx)("img",{src:t.cover,alt:t.bookInfo.title,className:e.bookCover})})},t.review._id)})),Object(G.jsx)("span",{className:e.gridShelfEnd})]})]})},ie=n(244),ce=n(237),oe=n(228),se=n(229),le=n(230),de=Object(w.a)((function(e){var t;return{inputCard:(t={backgroundColor:"white",width:"50%",margin:"auto",display:"flex"},Object(O.a)(t,e.breakpoints.down("md"),{width:"80%"}),Object(O.a)(t,e.breakpoints.down("sm"),{width:"100%"}),t),leftSideCard:{width:"30%",height:"inherit",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},icons:{color:"green","&:hover":{cursor:"pointer",color:"red"}},noCover:{height:220,width:140,backgroundColor:"wheat",border:"2px solid black",margin:"30px auto 10px auto",display:"flex",justifyContent:"center",alignItems:"center"},cover:{height:260,width:160,margin:"20px auto",marginTop:"50px"},rightSideCard:{width:"70%",display:"flex",flexDirection:"column",padding:30},inputArea:{display:"flex",marginBottom:15},inputField:{position:"relative",backgroundColor:"wheat",borderRadius:15,border:"1px solid black",width:"100%",padding:"5px 10px","&:focus":{outline:"none"}},ratingArea:{display:"flex",alignItems:"center"},reviewInput:{marginTop:10,width:"100%",height:"100%",boxSizing:"border-box",resize:"none",padding:15,minHeight:200,color:"black",fontFamily:"arial",fontSize:12},submitButton:{marginTop:20,padding:"10px 50px"},pageType:{margin:50,marginLeft:100,color:"black",borderBottom:"2px solid black",width:"fit-content"},actionButtonsDiv:{width:"100%",display:"flex",alignSelf:"flex-end",justifyContent:"flex-end"},userOptions:{display:"flex",alignItems:"center"},whiteSpace:{height:20},editIcon:{color:"green","&:hover":{cursor:"pointer"},width:"fit-content",marginRight:10},deleteIcon:{color:"red","&:hover":{cursor:"pointer"}},link:{textDecoration:"none",color:"crimson"}}})),ue=function(e){var t=e.book,n=e.review,r=e.cover,i=e.username,s=de({}),l=Object(c.h)().id,u=Object(C.c)((function(e){return e.user.user})),b=Object(a.useState)(!1),j=Object(o.a)(b,2),p=j[0],m=j[1],h=Object(a.useState)(n.text),x=Object(o.a)(h,2),g=x[0],v=x[1],f=Object(a.useState)(""),O=Object(o.a)(f,2),w=O[0],k=O[1],N=Object(a.useState)((null===n||void 0===n?void 0:n.rating)||0),B=Object(o.a)(N,2),D=B[0],A=B[1],T=Object(a.useState)(null),R=Object(o.a)(T,2),L=R[0],F=R[1],E=function(){var e=Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.put("".concat(q,"/api/BOOKS/").concat(l),{text:w,rating:D,cover:L},{withCredentials:!0});case 3:m(!1),w.length>0&&v(w),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("div",{className:s.pageType,children:Object(G.jsx)(d.a,{variant:"h2",children:"Book review"})}),Object(G.jsxs)(ie.a,{elevation:15,className:s.inputCard,children:[Object(G.jsxs)("div",{className:s.leftSideCard,children:[Object(G.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[r&&Object(G.jsx)("img",{src:L||r,alt:"cover",className:s.cover}),p&&Object(G.jsxs)(Y.a,{variant:"outlined",component:"label",children:[Object(G.jsx)(oe.a,{})," Change picture",Object(G.jsx)("input",{type:"file",hidden:!0,accept:"image/jpeg",onChange:function(e){return F(function(e){var t=new FileReader;t.onloadend=function(){F(t.result)},t.readAsDataURL(e)}(e.target.files[0]))}})]})]}),Object(G.jsx)("div",{style:{alignSelf:"flex-start",display:"flex",alignItems:"center",marginLeft:5},children:Object(G.jsxs)(d.a,{children:["Review by:"," ",Object(G.jsx)(y.b,{to:"/profile/".concat(i),className:s.link,children:Object(G.jsxs)("b",{children:[" ",i]})})," "]})})]}),Object(G.jsxs)("div",{className:s.rightSideCard,children:[Object(G.jsxs)(te.a,{container:!0,className:"".concat(s.inputArea),children:[Object(G.jsx)(te.a,{item:!0,lg:2,md:2,children:Object(G.jsx)(d.a,{variant:"h5",children:"Title:"})}),Object(G.jsx)(te.a,{item:!0,lg:10,md:10,children:Object(G.jsx)(d.a,{variant:"body2",className:"".concat(s.inputField),children:t.title})})]}),Object(G.jsxs)(te.a,{container:!0,className:"".concat(s.inputArea),children:[Object(G.jsx)(te.a,{item:!0,lg:2,md:2,children:Object(G.jsx)(d.a,{variant:"h5",children:"Author:"})}),Object(G.jsx)(te.a,{item:!0,lg:10,md:10,children:Object(G.jsx)(d.a,{variant:"body2",className:"".concat(s.inputField),children:t.authors})})]}),Object(G.jsxs)(te.a,{container:!0,className:"".concat(s.inputArea),children:[Object(G.jsx)(te.a,{item:!0,lg:2,md:2,children:Object(G.jsx)(d.a,{variant:"h5",children:"Genre:"})}),Object(G.jsx)(te.a,{item:!0,lg:10,md:10,children:Object(G.jsx)(d.a,{variant:"body2",className:"".concat(s.inputField),children:t.categories})})]}),Object(G.jsxs)(te.a,{container:!0,className:"".concat(s.inputArea),children:[Object(G.jsx)(te.a,{item:!0,lg:2,md:2,children:Object(G.jsx)(d.a,{variant:"h5",children:"Edition:"})}),Object(G.jsx)(te.a,{item:!0,lg:4,md:4,children:Object(G.jsx)(d.a,{variant:"body2",className:"".concat(s.inputField),sx:{textAlign:"center"},children:t.publishedDate||"N/A"})}),Object(G.jsx)(te.a,{item:!0,lg:3,md:3,children:Object(G.jsx)(d.a,{variant:"h5",sx:{marginLeft:1},children:"Pages:"})}),Object(G.jsx)(te.a,{item:!0,lg:3,md:3,children:Object(G.jsx)(d.a,{variant:"body2",className:"".concat(s.inputField),sx:{textAlign:"center"},children:t.pageCount||"N/A"})})]}),Object(G.jsxs)(te.a,{container:!0,className:"".concat(s.inputArea," ").concat(s.ratingArea),children:[Object(G.jsxs)(te.a,{item:!0,lg:2,md:2,sx:{display:"flex",alignItems:"center"},children:[Object(G.jsx)(d.a,{variant:"h5",children:"Rating:"})," ",p&&Object(G.jsx)(oe.a,{sx:{marginRight:10}})]}),Object(G.jsx)(ce.a,{name:"size-large",value:+D,readOnly:!p,size:"large",onChange:function(e,t){A(t)}})]}),Object(G.jsxs)(te.a,{container:!0,className:"",sx:{width:"100%",height:"fit-content"},children:[Object(G.jsxs)(te.a,{item:!0,lg:1,md:1,sx:{display:"flex",alignItems:"center"},children:[Object(G.jsx)(d.a,{variant:"h5",children:"Review:"})," ",p&&Object(G.jsx)(oe.a,{})]}),Object(G.jsx)(te.a,{item:!0,lg:12,md:12,children:Object(G.jsx)("textarea",{disabled:!p,className:"".concat(s.inputField," ").concat(s.reviewInput),value:p?w:g||"N/A",onChange:function(e){return k(e.target.value)}})}),Object(G.jsx)(te.a,{item:!0,lg:12,className:s.whiteSpace}),u.username===i&&Object(G.jsx)(te.a,{item:!0,lg:12,className:"".concat(s.actionButtonsDiv),children:p?Object(G.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[Object(G.jsx)(d.a,{children:"Edit mode enabled"}),Object(G.jsxs)("div",{children:[Object(G.jsx)(Y.a,{onClick:E,children:"Submit"}),Object(G.jsx)(Y.a,{onClick:function(){return m(!1)},children:"Cancel"})]})]}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{className:"".concat(s.userOptions," ").concat(s.editIcon),onClick:function(){return m(!0)},children:[Object(G.jsx)(se.a,{})," ",Object(G.jsx)(d.a,{children:"Edit book"})]}),Object(G.jsxs)("div",{className:"".concat(s.userOptions," ").concat(s.deleteIcon),children:[Object(G.jsx)(le.a,{})," ",Object(G.jsx)(d.a,{children:"Delete book"})]})]})})]})]})]})]})},be=n(20),je=n(241),pe=n(248),me=Object(w.a)((function(e){return{container:{width:"50%",margin:"auto",marginTop:30,padding:20},userDiv:{display:"flex",alignItems:"center",margin:10,justifyContent:"space-between"},userDivInfo:{marginLeft:10},leftSide:{display:"flex",alignItems:"center"},icons:{marginRight:10,"&:hover":{cursor:"pointer",color:"orange"}},acceptIcon:{color:"green"},declineIcon:{color:"red"},link:{textDecoration:"none",color:"inherit"}}})),he=n(90),xe=n.n(he),ge=n(87),ve=n.n(ge),fe=function(){var e=Object(c.f)(),t=Object(a.useState)("left"),n=Object(o.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)([]),l=Object(o.a)(s,2),u=l[0],j=l[1],p=Object(a.useState)(!0),m=Object(o.a)(p,2),h=m[0],x=m[1],g=me({}),v=e.state,f=v.username,O=v.user,w=Object(a.useState)([]),k=Object(o.a)(w,2),N=k[0],B=k[1],D=Object(C.c)((function(e){return e.user.user})),A=function(){return(null===D||void 0===D?void 0:D.username)===(null===O||void 0===O?void 0:O.username)},T=function(){var e=Object(S.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.put("".concat(q,"/api/users/acceptfriend/").concat(O.username),{userAccepting:null===O||void 0===O?void 0:O.username,userAccepted:t.username},{withCredentials:!0});case 3:n=N.filter((function(e){return e.source===t.username})),B(n),j([].concat(Object(be.a)(u),[t])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(S.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.put("".concat(q,"/api/users/deniefriend/").concat(O.username),{userAccepting:null===O||void 0===O?void 0:O.username,userAccepted:t.username},{withCredentials:!0});case 3:n=N.filter((function(e){return e.source===t.username})),B(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(S.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.put("".concat(q,"/api/users/cancelfriend/").concat(O.username),{userAccepting:null===O||void 0===O?void 0:O.username,userAccepted:t.username},{withCredentials:!0});case 3:n=N.filter((function(e){return e.source===t.username})),B(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(S.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.put("".concat(q,"/api/users/removefriend/").concat(O.username),{userAccepting:null===O||void 0===O?void 0:O.username,userAccepted:t.username},{withCredentials:!0});case 3:n=u.filter((function(e){return e.username!==t.username})),j(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("".concat(q,"/api/users/requests/").concat(f));case 3:t=e.sent,B(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(S.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,U.a.get("".concat(q,"/api/users/friends/").concat(O.username));case 4:t=e.sent,j(t.data),x(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message),x(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]),Object(G.jsxs)(ie.a,{elevation:5,className:g.container,children:[Object(G.jsxs)(je.a,{value:r,exclusive:!0,onChange:function(e,t){i(t)},"aria-label":"text alignment",children:[Object(G.jsx)(pe.a,{value:"left","aria-label":"left aligned",children:"Friends"}),A()&&Object(G.jsx)(pe.a,{value:"center","aria-label":"centered",children:"Incoming requests"}),A()&&Object(G.jsx)(pe.a,{value:"right","aria-label":"right aligned",children:"Outgoing requests"})]}),"left"===r&&Object(G.jsxs)(G.Fragment,{children:[null===u||void 0===u?void 0:u.map((function(e){return Object(G.jsx)("div",{children:Object(G.jsxs)("div",{className:g.userDiv,children:[Object(G.jsxs)("div",{className:g.leftSide,children:[Object(G.jsx)(y.b,{to:"/profile/".concat(e.username),children:Object(G.jsx)(b.a,{src:e.avatar})}),Object(G.jsxs)("div",{className:g.userDivInfo,children:[Object(G.jsx)(y.b,{to:"/profile/".concat(e.username),className:g.link,children:Object(G.jsx)("p",{children:e.username})}),Object(G.jsx)("p",{children:e.description||Object(G.jsx)("i",{children:"No description"})})]})]}),Object(G.jsx)("div",{className:g.rightSide,children:A()&&Object(G.jsx)(xe.a,{className:"".concat(g.icons," ").concat(g.declineIcon),onClick:function(){return F(e)}})})]})},e.username)})),0===u.length&&!h&&Object(G.jsx)(d.a,{variant:"subtitle2",sx:{marginTop:2},children:"".concat(f," has no friends :(")})]}),"center"===r&&N.map((function(e){return Object(G.jsx)("div",{children:"INCOMING"===e.type&&Object(G.jsxs)("div",{className:g.userDiv,children:[Object(G.jsxs)("div",{className:g.leftSide,children:[Object(G.jsx)(y.b,{to:"/profile/".concat(e.username),children:Object(G.jsx)(b.a,{src:e.avatar})}),Object(G.jsxs)("div",{className:g.userDivInfo,children:[Object(G.jsx)(y.b,{to:"/profile/".concat(e.username),className:g.link,children:Object(G.jsx)("p",{children:e.username})}),Object(G.jsx)("p",{children:e.description||Object(G.jsx)("i",{children:"No description"})})]})]}),Object(G.jsxs)("div",{className:g.rightSide,children:[Object(G.jsx)(ve.a,{className:"".concat(g.icons," ").concat(g.acceptIcon),onClick:function(){return T(e)}}),Object(G.jsx)(xe.a,{className:"".concat(g.icons," ").concat(g.declineIcon),onClick:function(){return R(e)}})]})]})},"".concat(e.type).concat(e.username))})),"right"===r&&N.map((function(e){return Object(G.jsx)("div",{children:"OUTGOING"===e.type&&Object(G.jsxs)("div",{className:g.userDiv,children:[Object(G.jsxs)("div",{className:g.leftSide,children:[Object(G.jsx)(y.b,{to:"/profile/".concat(e.username),children:Object(G.jsx)(b.a,{src:e.avatar})}),Object(G.jsxs)("div",{className:g.userDivInfo,children:[Object(G.jsx)(y.b,{to:"/profile/".concat(e.username),className:g.link,children:Object(G.jsx)("p",{children:e.username})}),Object(G.jsx)("p",{children:e.description||Object(G.jsx)("i",{children:"No description"})})]})]}),Object(G.jsx)("div",{className:g.rightSide,children:Object(G.jsx)(xe.a,{className:"".concat(g.icons," ").concat(g.declineIcon),onClick:function(){return L(e)}})})]})},"".concat(e.type).concat(e.username))}))]})},Oe=Object(w.a)((function(e){var t;return{inputCard:(t={backgroundColor:"white",width:"50%",margin:"auto",display:"flex"},Object(O.a)(t,e.breakpoints.up("1921"),{width:"40%"}),Object(O.a)(t,e.breakpoints.down("md"),{width:"80%"}),Object(O.a)(t,e.breakpoints.down("sm"),{width:"100%"}),t),leftSideCard:{width:"30%",height:"inherit",display:"flex",flexDirection:"column",alignItems:"space-between",justifyContent:"space-between"},noCover:{height:220,width:140,backgroundColor:"wheat",border:"2px solid black",margin:"30px auto 10px auto",display:"flex",justifyContent:"center",alignItems:"center"},cover:{height:220,width:140,margin:"20px auto",marginTop:"50px"},tips:{width:"65%",margin:"auto",backgroundColor:"wheat",paddingBottom:"5px",boxShadow:"2px 2px grey"},liItem:{padding:5,margin:"10px 15px 10px 20px"},tipsHeader:{textAlign:"center",borderBottom:"2px solid black"},bar:{borderBottom:"2px solid black",margin:"2px 0px"},rightSideCard:{width:"70%",border:"0px solid black",display:"flex",flexDirection:"column",justifyContent:"space-evenly",padding:50},required:{color:"red",marginLeft:5},button:{backgroundColor:"lightgreen",borderRadius:10,border:"none",padding:"5px 15px","&:hover":{cursor:"pointer"}},inputArea:{display:"flex",marginBottom:15},inputField:{position:"relative",backgroundColor:"wheat",borderRadius:15,border:"1px solid black",width:"100%",padding:10},checkButton:{marginLeft:10},reviewInput:{marginTop:10,width:"100%",height:"100%",boxSizing:"border-box",resize:"none",padding:15},submitButton:{marginTop:20,padding:"10px 50px"},submitButtonDiv:{display:"flex",margin:"auto",marginRight:10,width:"100%"},pageType:{marginLeft:100,marginTop:20,color:"black",borderBottom:"2px solid black",width:"fit-content"}}})),we=function(){var e=Oe({}),t=Object(C.c)((function(e){return e.user.user})),n=Object(a.useState)({title:"",authors:"",genre:"",edition:"",pages:"",cover:!1}),r=Object(o.a)(n,2),i=r[0],c=r[1],s=function(){var e=Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("".concat(q,"/api/books/suggestion"),{username:t.username,google:!1,book:i});case 3:l(),b(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:console.log(i);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),l=function(){c({title:"",authors:"",genre:"",edition:"",pages:"",review:"",bookId:null,cover:!1})},u=function(e){var t=new FileReader;t.onloadend=function(){c(Object(B.a)(Object(B.a)({},i),{},{cover:t.result}))},t.readAsDataURL(e)},b=function(){return K.b.success("Suggestion sent!",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("div",{className:e.pageType,children:Object(G.jsx)(d.a,{variant:"h2",children:"Add a book"})}),Object(G.jsxs)(ie.a,{elevation:15,className:e.inputCard,children:[Object(G.jsxs)("div",{className:e.leftSideCard,children:[i.cover&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("img",{src:i.cover,alt:"cover",className:e.cover}),Object(G.jsx)(Y.a,{onClick:function(){return c(Object(B.a)(Object(B.a)({},i),{},{cover:null}))},children:"Remove cover"})]}),!i.cover&&Object(G.jsx)("div",{className:"".concat(e.cover," ").concat(e.noCover),children:Object(G.jsxs)(Y.a,{className:"".concat(e.cover," ").concat(e.noCover),component:"label",children:["Add cover",Object(G.jsx)("input",{type:"file",hidden:!0,accept:"image/jpeg",onChange:function(e){return c(Object(B.a)(Object(B.a)({},i),{},{cover:u(e.target.files[0])}))}})]})})]}),Object(G.jsxs)("div",{className:e.rightSideCard,children:[Object(G.jsxs)(te.a,{container:!0,className:"".concat(e.inputArea),children:[Object(G.jsx)(te.a,{item:!0,lg:2,md:2,children:Object(G.jsx)(d.a,{variant:"h5",children:"Title:"})}),Object(G.jsx)(te.a,{item:!0,lg:9,md:6,children:Object(G.jsx)("input",{className:e.inputField,type:"text",onChange:function(e){return c(Object(B.a)(Object(B.a)({},i),{},{title:e.target.value}))},value:i.title,placeholder:"Type in the book title"})}),Object(G.jsx)(te.a,{item:!0,children:Object(G.jsx)("div",{className:e.required,children:"*"})})]}),Object(G.jsxs)(te.a,{container:!0,className:"".concat(e.inputArea),children:[Object(G.jsx)(te.a,{item:!0,lg:2,md:2,children:Object(G.jsx)(d.a,{variant:"h5",children:"Author:"})}),Object(G.jsx)(te.a,{item:!0,lg:9,md:6,children:Object(G.jsx)("input",{className:e.inputField,type:"text",onChange:function(e){return c(Object(B.a)(Object(B.a)({},i),{},{authors:e.target.value}))},value:i.authors,placeholder:"Type in the book author"})}),Object(G.jsx)(te.a,{item:!0,lg:1,md:1,children:Object(G.jsx)("div",{className:e.required,children:"*"})})]}),Object(G.jsxs)(te.a,{container:!0,className:"".concat(e.inputArea),children:[Object(G.jsx)(te.a,{item:!0,lg:2,md:2,children:Object(G.jsx)(d.a,{variant:"h5",children:"Genre:"})}),Object(G.jsx)(te.a,{item:!0,lg:9,md:6,children:Object(G.jsx)("input",{className:e.inputField,type:"text",onChange:function(e){return c(Object(B.a)(Object(B.a)({},i),{},{genre:e.target.value}))},value:i.genre,placeholder:"Type in the book genre"})}),Object(G.jsx)(te.a,{item:!0,lg:1,md:1,children:Object(G.jsx)("div",{className:e.required,children:"*"})})]}),Object(G.jsxs)(te.a,{container:!0,className:"".concat(e.inputArea),children:[Object(G.jsx)(te.a,{item:!0,lg:2,md:2,children:Object(G.jsx)(d.a,{variant:"h5",children:"Edition:"})}),Object(G.jsx)(te.a,{item:!0,lg:5,md:3,children:Object(G.jsx)("input",{className:e.inputField,type:"text",onChange:function(e){return c(Object(B.a)(Object(B.a)({},i),{},{edition:e.target.value}))},value:i.edition,placeholder:"Date of publishing"})}),Object(G.jsx)(te.a,{item:!0,lg:2,md:2,children:Object(G.jsx)(d.a,{variant:"h5",sx:{marginLeft:1},children:"Pages:"})}),Object(G.jsx)(te.a,{item:!0,lg:2,md:1,children:Object(G.jsx)("input",{className:e.inputField,type:"text",placeholder:"#",onChange:function(e){return c(Object(B.a)(Object(B.a)({},i),{},{pages:e.target.value}))},value:i.pages})})]}),Object(G.jsx)(te.a,{container:!0,children:Object(G.jsx)(te.a,{item:!0,lg:12,md:12,className:e.submitButtonDiv,children:Object(G.jsx)(Y.a,{variant:"contained",color:"success",onClick:function(){s()},className:"".concat(e.button," ").concat(e.submitButton),children:Object(G.jsx)(d.a,{variant:"body1",children:"Submit"})})})})]})]}),Object(G.jsx)(K.a,{})]})},ke=n(234),ye=(Object(w.a)((function(e){return{container:{minHeight:"100vh",position:"relative"},bookPreview:{padding:20,display:"flex",alignItems:"center",borderBottom:"1px solid black",transition:".1s","&:hover":{cursor:"pointer",backgroundColor:"rgb(40,40,40)",color:"white"}},bookInfo:{marginLeft:20},thumbnail:{maxHeight:64},modal:Object(O.a)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"80%",boxShadow:24,overflowY:"auto"},e.breakpoints.down("xs"),{width:"100%",top:"0",left:"0",transform:"translate(0,0)",margin:"auto"}),button:{display:"flex",justifyContent:"auto",width:"100%"}}})),Object(w.a)((function(e){return{container:{textAlign:"start",height:"100%"},listItem:{listStyle:"none",margin:5,display:"flex",alignItems:"center"},closeButton:{display:"flex",alignItems:"flex-end",justifyContent:"center"},loading:{margin:"auto"},counter:{marginLeft:5}}}))),Ce=n(242),Ne=function(e){var t=e.user,n=e.setStatistics,r=ye({}),i=Object(a.useState)(0),c=Object(o.a)(i,2),s=c[0],l=c[1],u=Object(a.useState)(0),b=Object(o.a)(u,2),j=b[0],p=b[1],m=Object(a.useState)(0),h=Object(o.a)(m,2),x=h[0],g=h[1],v=Object(a.useState)(""),f=Object(o.a)(v,2),O=f[0],w=f[1],k=Object(a.useState)(!0),y=Object(o.a)(k,2),C=y[0],N=y[1];return Object(a.useEffect)((function(){var e=function(e){if(0==e.length)return null;for(var t={},n=e[0].bookInfo.categories,a=1,r=0;r<e.length;r++){var i=e[r].bookInfo.categories;null==t[i]?t[i]=1:t[i]++,t[i]>a&&(n=i,a=t[i])}return n},n=function(){var n=Object(S.a)(I.a.mark((function n(){var a,r,i,c;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=0,r=0,i=0,n.prev=1,n.next=4,U.a.get("".concat(q,"/api/books/all/").concat(t));case 4:(c=n.sent).data.forEach((function(e){a++,r+=+e.bookInfo.pageCount,i+=+e.review.rating})),w(e(c.data)),p(a),l(r),g(Math.round(i/a*100)/100),N(!1),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(){return n.apply(this,arguments)}}();n()}),[]),C?Object(G.jsx)("div",{className:r.loading,children:Object(G.jsx)(Ce.a,{})}):Object(G.jsxs)("div",{className:r.container,children:[Object(G.jsxs)("ul",{children:[Object(G.jsxs)("li",{className:r.listItem,children:[Object(G.jsx)(d.a,{variant:"subtitle2",children:" Books read: "}),Object(G.jsx)("span",{className:r.counter,children:j})]}),Object(G.jsxs)("li",{className:r.listItem,children:[Object(G.jsx)(d.a,{variant:"subtitle2",children:" Pages read: "}),Object(G.jsx)("span",{className:r.counter,children:s})]}),Object(G.jsxs)("li",{className:r.listItem,children:[Object(G.jsx)(d.a,{variant:"subtitle2",children:" Average rating: "})," ",Object(G.jsxs)("span",{className:r.counter,children:[" ",x]})]}),Object(G.jsxs)("li",{className:r.listItem,children:[Object(G.jsx)(d.a,{variant:"subtitle2",children:" Most read genre: "})," ",Object(G.jsxs)("span",{className:r.counter,children:[" ",O]})]})]}),Object(G.jsx)("div",{className:r.closeButton,children:Object(G.jsx)(Y.a,{sx:{backgroundColor:"lightgreen",marginBottom:5},variant:"outlined",onClick:function(){return n(!1)},children:"Close statistics"})})]})},Ie=Object(w.a)((function(e){return{inputField:{position:"relative",backgroundColor:"white",borderRadius:15,border:"1px solid black",width:"100%",padding:"5px 10px","&:focus":{outline:"none"}},reviewInput:{marginLeft:20,width:"100%",height:"100%",boxSizing:"border-box",resize:"none",padding:15,minHeight:100},postCommentDiv:{padding:10,borderBottom:"1px solid black",borderTopRightRadius:"10px",borderTopLeftRadius:"10px"},postCommentDivUpper:{display:"flex"},postCommentDivBottom:{display:"flex",justifyContent:"flex-end",marginRight:10,marginTop:10},link:{height:"fit-content"},submitButton:{padding:"10px 20px",backgroundColor:"lightgreen",border:"none",borderRadius:10,fontSize:14,color:"black","&:hover":{cursor:"pointer"}}}})),Se=function(e){var t=e.userBook,n=e.addNewComments,r=Ie({}),i=Object(a.useState)(""),c=Object(o.a)(i,2),s=c[0],l=c[1],d=Object(C.c)((function(e){return e.user.user})),u=function(){var e=Object(S.a)(I.a.mark((function e(){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("".concat(q,"/api/books/comment"),{username:null===d||void 0===d?void 0:d.username,comment:s,userBook:t},{withCredentials:!0});case 3:a=e.sent,n(a.data),l(""),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(G.jsxs)("div",{className:r.postCommentDiv,children:[Object(G.jsxs)("div",{className:r.postCommentDivUpper,children:[Object(G.jsx)(y.b,{to:"/profile/".concat(d.username),className:r.link,children:Object(G.jsx)(b.a,{src:d.avatar})}),Object(G.jsx)("textarea",{className:"".concat(r.inputField," ").concat(r.reviewInput),value:s,onChange:function(e){return l(e.target.value)},placeholder:"Share your thoughts on the review..."})]}),Object(G.jsx)("div",{className:r.postCommentDivBottom,children:Object(G.jsx)("button",{onClick:u,className:r.submitButton,children:"SUBMIT"})})]})},Be=n(121),De=n.n(Be),Ae=n(122),Te=n.n(Ae),Re=Object(w.a)((function(e){return{comment:{display:"flex",alignItems:"center",borderBottom:"1px dashed black",padding:10},avatar:{margin:10},text:{color:"black"},username:{color:"crimson",marginRight:10},rightSideCommentDiv:{display:"flex",border:"1px solid black"},gridItem:{display:"flex",alignItems:"center",width:"100%"},grid:{display:"flex",alignItems:"center"},buttonAction:{display:"flex",justifyContent:"flex-end"},icons:{color:"green","&:hover":{cursor:"pointer",color:"red"}},link:{color:"inherit",textDecoration:"none"}}})),Le=function(e){var t=e.comment,n=e.setComments,r=e.comments,i=Re({}),c=Object(C.c)((function(e){return e.user.user})),s=Object(a.useState)(!1),l=Object(o.a)(s,2),u=l[0],j=l[1],p=function(){var e=Object(S.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.delete("".concat(q,"/api/books/comment/").concat(t));case 3:a=r.filter((function(e){return e._id!==t})),n(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(G.jsxs)("div",{className:i.comment,children:[Object(G.jsx)(y.b,{to:"/profile/".concat(t.username),className:i.link,children:Object(G.jsx)(b.a,{src:t.avatar,className:i.avatar})}),Object(G.jsxs)(te.a,{container:!0,className:i.grid,children:[Object(G.jsxs)(te.a,{item:!0,lg:1,className:i.gridItem,children:[Object(G.jsx)(d.a,{variant:"body2",className:"".concat(i.text," ").concat(i.username),sx:{marginRight:2},children:Object(G.jsx)(y.b,{to:"/profile/".concat(t.username),className:i.link,children:t.username})})," "]}),Object(G.jsx)(te.a,{item:!0,lg:4,children:Object(G.jsx)(d.a,{variant:"body2",className:"".concat(i.text," ").concat(i.username),sx:{marginLeft:2},children:t.date})}),Object(G.jsx)(te.a,{item:!0,lg:7,className:i.buttonAction,children:c.username===t.username?Object(G.jsx)(De.a,{className:i.icons,onClick:function(){return p(t._id)}}):Object(G.jsx)(Te.a,{style:{marginLeft:5},className:i.icons,onClick:function(){return j(!0)}})}),Object(G.jsx)(te.a,{item:!0,lg:12,children:Object(G.jsx)(d.a,{variant:"body1",className:i.text,children:t.text})})]}),u&&Object(G.jsx)(Ye,{setModal:j,user:t.username,notify:function(){return K.b.success("Report submitted!",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}}),Object(G.jsx)(K.a,{})]},t._id)},Fe=function(e){var t=e.userBook,n=e.newComments,r=Object(a.useState)([]),i=Object(o.a)(r,2),c=i[0],s=i[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(I.a.mark((function e(){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("".concat(q,"/api/books/comments/").concat(t));case 3:n=e.sent,s(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){n&&s([n].concat(Object(be.a)(c)))}),[n]),Object(G.jsx)("div",{children:null===c||void 0===c?void 0:c.map((function(e){return Object(G.jsx)(Le,{comment:e,setComments:s,comments:c})}))})},Ee=Object(w.a)((function(e){return{container:{width:"50%",margin:"auto",padding:20,marginTop:30},user:{display:"flex",alignItems:"center",margin:20,borderBottom:"1px dashed black"},rightSide:{marginLeft:20},avatar:{"&:hover":{cursor:"pointer"}},username:{"&:hover":{cursor:"pointer"}}}})),Pe=function(){var e=Ee({}),t=Object(a.useState)([]),n=Object(o.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!0),l=Object(o.a)(s,2),u=l[0],j=l[1],p=Object(c.f)().state.filter;return Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,U.a.post("".concat(q,"/api/users/filter"),{string:p},{withCredentials:!0});case 4:t=e.sent,i(t.data),j(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();p.length>0&&e()}),[p]),u?Object(G.jsx)(ee.a,{}):Object(G.jsxs)(ie.a,{elevation:5,className:e.container,children:[r.length<=0&&Object(G.jsx)(d.a,{variant:"body1",children:"No users match search term"}),r.map((function(t){return Object(G.jsxs)("div",{className:e.user,children:[Object(G.jsxs)("div",{className:e.leftSide,children:[Object(G.jsx)(y.b,{to:"/profile/".concat(t.username),children:Object(G.jsx)(b.a,{src:t.avatar,className:e.avatar})}),Object(G.jsx)(d.a,{variant:"body1",className:e.username,children:t.username})]}),Object(G.jsx)("div",{className:e.rightSide,children:Object(G.jsx)(d.a,{variant:"body2",children:t.description||Object(G.jsx)("i",{children:"No description"})})})]},t._id)}))]})},ze=n(32),He=n(233),Me=Object(w.a)((function(e){return{error:{display:"block",color:"red"}}})),Ue=["label","onChange","errorMessage","id","pattern","badInput"],qe=function(e){var t=Me({}),n=e.label,a=e.onChange,r=e.errorMessage,i=(e.id,e.pattern,e.badInput),c=Object(ze.a)(e,Ue);return Object(G.jsxs)("div",{className:t.inputField,children:[Object(G.jsx)(He.a,Object(B.a)(Object(B.a)({id:"standard-basic",variant:"standard"},c),{},{label:n,onChange:a})),Object(G.jsx)("span",{className:t.error,children:i&&r})]})},Ge=Object(w.a)((function(e){return{routePath:{marginBottom:10},inputField:{marginTop:5,marginBottom:5},formType:{color:"crimson","&:hover":{cursor:"pointer"}},button:{marginTop:15,display:"flex",justifyContent:"center"}}})),_e=function(e){var t=e.setLogin,n=Ge({}),r=Object(C.b)(),i=Object(c.g)(),s=Object(a.useState)({email:"",password:""}),l=Object(o.a)(s,2),u=l[0],b=l[1],j=Object(a.useState)([{id:1,name:"email",type:"email",placeholder:"Email",label:"Email",required:!0},{id:2,name:"password",type:"password",placeholder:"Password",label:"Password",required:!0}]),p=Object(o.a)(j,2),m=p[0],h=(p[1],function(e){b(Object(B.a)(Object(B.a)({},u),{},Object(O.a)({},e.target.name,e.target.value)))}),x=function(){var e=Object(S.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("".concat(q,"/auth/login"),{password:u.password,email:u.email},{withCredentials:!0});case 3:return t=e.sent,console.log(t.data),e.next=7,z(t.data,r);case 7:i("/profile/".concat(t.data.username)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),g(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),g=function(e){K.b.error(e,{position:"top-center",autoClose:5e3})};return Object(G.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x()},children:[Object(G.jsx)(d.a,{variant:"h5",children:"Log in"}),Object(G.jsxs)(d.a,{variant:"body2",className:n.routePath,children:["New to GoodBooks?",Object(G.jsx)("span",{className:n.formType,onClick:function(){return t(!1)},children:" Sign up now"})]}),m.map((function(e){return Object(G.jsx)("div",{className:n.inputField,children:Object(G.jsx)(qe,Object(B.a)(Object(B.a)({},e),{},{value:u[e.name],onChange:h,className:n.inputField}))},e.id)})),Object(G.jsx)("div",{className:n.button,children:Object(G.jsx)(Y.a,{variant:"contained",type:"submit",children:"Log in"})}),Object(G.jsx)(K.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},We=Object(w.a)((function(e){return{routePath:{marginBottom:10},inputField:{marginTop:5,marginBottom:5},formType:{color:"crimson","&:hover":{cursor:"pointer"}},button:{marginTop:15,display:"flex",justifyContent:"center"}}})),Je=function(e){var t,n=e.setLogin,r=e.triggerToast,i=We({}),c=Object(a.useState)({username:"",email:"",password:"",confirmPassword:""}),s=Object(o.a)(c,2),l=s[0],u=s[1],b=Object(a.useState)([{id:1,name:"username",type:"text",placeholder:"Username",errorMessage:"Username must be between 3-12 characters and not include any special characters",label:"Username",pattern:/^[A-Za-z0-9]{3,12}$/,required:!0,badInput:!1},{id:2,name:"email",type:"email",placeholder:"Email",errorMessage:"Invalid email address",label:"Email",pattern:/\S+@\S+\.\S+/,required:!0,badInput:!1},{id:3,name:"password",type:"password",placeholder:"Password",errorMessage:"Password should be 8-20 characters and include at least 1 letter, 1 number and 1 special character!",label:"Password",pattern:/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}$/,required:!0,badInput:!1},(t={id:4,name:"confirmPassword",type:"password",placeholder:"Confirm Password",errorMessage:"",label:"Confirm Password"},Object(O.a)(t,"errorMessage","Passwords don't match!"),Object(O.a)(t,"pattern",l.password),Object(O.a)(t,"required",!0),Object(O.a)(t,"badInput",!1),t)]),j=Object(o.a)(b,2),p=j[0],m=j[1],h=function(e){u(Object(B.a)(Object(B.a)({},l),{},Object(O.a)({},e.target.name,e.target.value)))},x=function(){var e=Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("".concat(q,"/auth/register"),{username:l.username,password:l.password,confirmPassword:l.confirmPassword,email:l.email},{withCredentials:!0});case 3:r(!0,"Account succesfully registered!"),n(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(!1,e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(G.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p.forEach((function(e,t){var n=!1;"confirmPassword"===e.name?l.password!==l[e.name]&&(n=!0):e.pattern.test(l[e.name])||(n=!0);var a=p;n?a[t].badInput=!0:e.badInput&&(a[t].badInput=!1),m(Object(be.a)(a))})),p.find((function(e){return!0===e.badInput}))||x()},children:[Object(G.jsx)(d.a,{variant:"h5",children:"Register"}),Object(G.jsxs)(d.a,{variant:"body2",className:i.routePath,children:["Already have an account?",Object(G.jsx)("span",{className:i.formType,onClick:function(){return n(!0)},children:" Sign in"})]}),p.map((function(e){return Object(G.jsx)("div",{className:i.inputField,children:Object(G.jsx)(qe,Object(B.a)(Object(B.a)({},e),{},{value:l[e.name],onChange:h,className:i.inputField}))},e.id)})),Object(G.jsx)("div",{className:i.button,children:Object(G.jsx)(Y.a,{variant:"contained",type:"submit",children:"Register"})}),Object(G.jsx)(K.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},Ke=Object(w.a)((function(e){return{container:{width:"50%",margin:"auto",marginTop:30,marginBottom:30},header:{display:"flex",alignItems:"center",width:"100%",padding:5,color:"black"},user:{display:"flex",alignItems:"center",margin:20,borderBottom:"1px dashed black"},rightSide:{marginLeft:20},avatar:{"&:hover":{cursor:"pointer"}},username:{"&:hover":{cursor:"pointer"}},modal:{display:"flex",backgroundColor:"white"},bookPreview:{padding:15,display:"flex",backgroundColor:"white",border:"1px dashed lightblue",margin:5,"&:hover":{cursor:"pointer",backgroundColor:"rgba(220,220,220,1)",color:"black"}},bookInfo:{marginLeft:10,display:"flex",flexDirection:"column",justifyContent:"space-evenly",color:"inherit"},title:{color:"crimson"},thumbnail:{height:160,width:100},informationDisplay:{display:"flex"}}})),Ze=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Ke({}),c=Object(a.useState)(""),s=Object(o.a)(c,2),l=s[0],d=s[1],u=Object(a.useState)(!1),b=Object(o.a)(u,2),j=b[0],p=b[1],m=function(){var e=Object(S.a)(I.a.mark((function e(){var t,n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://www.googleapis.com/books/v1/volumes","?fields=items(id,volumeInfo(title,authors,averageRating,ratingsCount,publishedDate,pageCount,categories,imageLinks,industryIdentifiers))&maxResults=40&q=intitle:",e.prev=2,e.next=5,U.a.get("".concat("https://www.googleapis.com/books/v1/volumes").concat("?fields=items(id,volumeInfo(title,authors,averageRating,ratingsCount,publishedDate,pageCount,categories,imageLinks,industryIdentifiers))&maxResults=40&q=intitle:").concat(l));case 5:return t=e.sent,n=t.data.items.filter((function(e){var t,n,a,r,i,c,o=!1,s=(null===(t=e.volumeInfo)||void 0===t||null===(n=t.imageLinks)||void 0===n?void 0:n.thumbnail)||null,l=(null===(a=e.volumeInfo)||void 0===a?void 0:a.title)||null,d=(null===(r=e.volumeInfo)||void 0===r?void 0:r.authors)||null;if(null===e||void 0===e||null===(i=e.volumeInfo)||void 0===i||null===(c=i.industryIdentifiers)||void 0===c||c.forEach((function(e){["ISBN_13","ISBN_10"].includes(e.type)&&(o=!0)})),o&&s&&l&&d)return e})),e.next=9,U.a.get("".concat(q,"/api/books/all/books"),{params:{filter:l}});case 9:a=e.sent,p(!1),r([].concat(Object(be.a)(a.data),Object(be.a)(n))),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),p(!0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),h=function(){return K.b.success("Book added!",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(G.jsxs)("div",{children:[Object(G.jsx)(_,{}),Object(G.jsxs)(ie.a,{elevation:10,className:i.container,children:[Object(G.jsx)(rt,{setTitle:d,title:l,getBooks:m}),j&&"No results match parameters",!j&&Object(G.jsx)(te.a,{container:!0,className:i.modal,children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(G.jsx)(nt,{book:e,notify:h},e.id)}))})]}),Object(G.jsx)(K.a,{})]})},$e=Object(w.a)((function(e){return{container:{minHeight:"100vh",position:"relative",backgroundColor:"wheat"},bookPreview:{padding:20,display:"flex",alignItems:"center",backgroundColor:"wheat",borderBottom:"1px solid black",transition:".1s","&:hover":{cursor:"pointer",backgroundColor:"rgb(40,40,40)",color:"white"}},bookInfo:{marginLeft:20},thumbnail:{maxHeight:64},modal:Object(O.a)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",backgroundColor:"wheat",padding:10,boxShadow:24,overflowY:"auto"},e.breakpoints.down("xs"),{width:"100%",top:"0",left:"0",transform:"translate(0,0)",margin:"auto"}),button:{display:"flex",justifyContent:"flex-end",width:"100%",marginRight:10,marginTop:5},input:{width:"100%"}}})),Ye=function(e){var t=e.setModal,n=e.user,r=e.notify,i=$e({}),c=Object(a.useState)(!1),s=Object(o.a)(c,2),l=s[0],u=s[1],b=Object(C.c)((function(e){return e.user.user})),j=Object(a.useState)(""),p=Object(o.a)(j,2),m=p[0],h=p[1],x=function(){u(!1),t(!1)},g=function(){var e=Object(S.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("".concat(q,"/api/users/report"),{reportedUser:n,reportedBy:b.username,additionalInformation:m},{withCredentials:!0});case 3:r(),x(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){u(!0)}),[]),Object(G.jsx)("div",{children:Object(G.jsx)(ke.a,{open:l,sx:{overflow:"scroll"},onClose:x,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("div",{className:i.modal,children:[Object(G.jsxs)(d.a,{variant:"subtitle2",children:["Reporting user: ",n]}),Object(G.jsx)(d.a,{variant:"subtitle2",children:"Report reason"}),Object(G.jsx)("textarea",{value:m,onChange:function(e){return h(e.target.value)},cols:"30",rows:"10",required:!0,className:i.input}),Object(G.jsx)("div",{className:i.button,children:Object(G.jsxs)(Y.a,{onClick:g,className:i.button,disabled:!(m.length>0),variant:"contained",sx:{width:100},children:[" ","Submit"," "]})})]})})})})},Ve=Object(w.a)((function(e){return{container:{width:"50%",margin:"auto",padding:20,marginTop:30},user:{display:"flex",alignItems:"center",margin:20,borderBottom:"1px dashed black"},rightSide:{marginLeft:20},avatar:{"&:hover":{cursor:"pointer"}},username:{"&:hover":{cursor:"pointer"}},reportContainer:{padding:5,borderBottom:"1px dashed black",display:"flex",justifyContent:"space-between",alignItems:"center"},reportedUser:{color:"crimson",fontWeight:500,paddingRight:"5px","&:hover":{cursor:"pointer"}},reportedBy:{color:"orange",fontWeight:500,"&:hover":{cursor:"pointer"}},reportReason:{display:"flex",alignItems:"center",marginTop:2},resolveIcon:{color:"green","&:hover":{cursor:"pointer",color:"crimson"}}}})),Xe=n(231),Qe=function(e){var t=e.report,n=e.setReports,r=e.reports,i=Ve({}),c=Object(a.useState)(null),s=Object(o.a)(c,2),l=s[0],u=s[1],j=Object(a.useState)(null),p=Object(o.a)(j,2),m=p[0],h=p[1],x=Object(a.useState)([]),g=Object(o.a)(x,2),v=g[0],f=g[1],O=function(){var e=Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.delete("".concat(q,"/api/users/report/").concat(t._id),{withCredentials:!0});case 3:n(r.filter((function(e){return e!==t}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(I.a.mark((function e(){var n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,U.a.get("".concat(q,"/api/users/").concat(t.reportedUser));case 4:return n=e.sent,e.next=7,U.a.get("".concat(q,"/api/users/").concat(t.reportedBy));case 7:a=e.sent,h(a.data),u(n.data),f(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),f(!1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),v?Object(G.jsx)(ee.a,{color:"secondary"}):Object(G.jsxs)("div",{className:i.reportContainer,children:[Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(G.jsx)(b.a,{src:null===l||void 0===l?void 0:l.avatar,sx:{width:24,height:24,margin:"5px",marginLeft:0}}),Object(G.jsx)(d.a,{variant:"subtitle2",className:i.reportedUser,children:Object(G.jsx)(y.b,{to:"/profile/".concat(t.reportedUser),style:{color:"inherit",textDecoration:"none"},children:t.reportedUser})}),Object(G.jsx)(d.a,{variant:"body2",children:" was reported by "}),Object(G.jsx)(b.a,{src:null===m||void 0===m?void 0:m.avatar,sx:{width:24,height:24,margin:"5px"}}),Object(G.jsx)(d.a,{variant:"subtitle2",className:i.reportedBy,children:Object(G.jsx)(y.b,{to:"/profile/".concat(t.reportedBy),style:{color:"inherit",textDecoration:"none"},children:t.reportedBy})})]}),Object(G.jsxs)("div",{className:i.reportReason,children:[Object(G.jsx)(d.a,{variant:"body2",children:"Report reason:"}),Object(G.jsx)(d.a,{variant:"subtitle2",sx:{marginLeft:2},children:t.additionalInformation})]})]}),Object(G.jsx)(Xe.a,{title:"Mark as resolved",children:Object(G.jsx)(ve.a,{className:i.resolveIcon,onClick:O})})]},t._id)},et=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1];Ve({});return Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("".concat(q,"/api/users/reports"));case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(G.jsx)("div",{children:n.map((function(e){return Object(G.jsx)(Qe,{report:e,setReports:r,reports:n},e._id)}))})},tt=Object(w.a)((function(e){return{container:{width:"50%",margin:"auto",marginTop:30,marginBottom:30},header:{display:"flex",alignItems:"center",width:"100%",padding:5,color:"black"},user:{display:"flex",alignItems:"center",margin:20,borderBottom:"1px dashed black"},rightSide:{marginLeft:20},avatar:{"&:hover":{cursor:"pointer"}},username:{"&:hover":{cursor:"pointer"}},modal:{display:"flex",backgroundColor:"white"},bookPreview:{padding:15,display:"flex",backgroundColor:"white",border:"1px dashed lightblue",margin:5,"&:hover":{cursor:"pointer",backgroundColor:"rgba(220,220,220,1)",color:"black"}},bookInfo:{marginLeft:10,display:"flex",flexDirection:"column",justifyContent:"space-evenly",color:"inherit"},title:{color:"crimson"},thumbnail:{height:160,width:100},informationDisplay:{display:"flex"}}})),nt=function(e){var t,n=e.book,r=e.notify,i=(e.google,tt({})),c=Object(a.useState)(!1),s=Object(o.a)(c,2),l=s[0],u=s[1],b=Object(a.useState)({}),j=Object(o.a)(b,2),p=j[0],m=j[1];return Object(a.useEffect)((function(){var e,t,a,r,i,c,o,s;n.volumeInfo?m({cover:null===n||void 0===n||null===(e=n.volumeInfo)||void 0===e||null===(t=e.imageLinks)||void 0===t?void 0:t.thumbnail,title:null===n||void 0===n||null===(a=n.volumeInfo)||void 0===a?void 0:a.title,authors:null===n||void 0===n||null===(r=n.volumeInfo)||void 0===r?void 0:r.authors,rating:null===n||void 0===n||null===(i=n.volumeInfo)||void 0===i?void 0:i.averageRating,ratingsCount:(null===n||void 0===n||null===(c=n.volumeInfo)||void 0===c?void 0:c.ratingsCount)||"0",publishedDate:null===n||void 0===n||null===(o=n.volumeInfo)||void 0===o?void 0:o.publishedDate,categories:null===n||void 0===n||null===(s=n.volumeInfo)||void 0===s?void 0:s.categories,bookId:n.volumeInfo.industryIdentifiers[0].identifier,google:!0}):m({cover:null===n||void 0===n?void 0:n.cover,title:null===n||void 0===n?void 0:n.title,authors:[null===n||void 0===n?void 0:n.authors],rating:"0",ratingsCount:"0",publishedDate:null===n||void 0===n?void 0:n.edition,categories:null===n||void 0===n?void 0:n.genre,bookId:n._id,google:!1})}),[]),Object(G.jsxs)(te.a,{item:!0,lg:12,md:12,sm:12,xs:12,className:i.bookPreview,children:[Object(G.jsx)("img",{src:null===p||void 0===p?void 0:p.cover,alt:"",className:i.thumbnail}),Object(G.jsxs)("div",{className:i.bookInfo,children:[Object(G.jsx)(d.a,{variant:"subtitle2",className:i.title,children:null===p||void 0===p?void 0:p.title}),Object(G.jsxs)(d.a,{variant:"subtitle2",children:["by"," ",null===p||void 0===p||null===(t=p.authors)||void 0===t?void 0:t.map((function(e,t){var a,r;return Object(G.jsx)("div",{style:{display:"inline"},children:"".concat(e," ").concat(t!==(null===n||void 0===n||null===(a=n.volumeInfo)||void 0===a||null===(r=a.authors)||void 0===r?void 0:r.length)-1?", ":"")},e)}))]}),Object(G.jsxs)("div",{className:i.informationDisplay,children:[p.rating&&Object(G.jsx)(ce.a,{name:"size-large",value:null===p||void 0===p?void 0:p.rating,readOnly:!0,size:"small",precision:.5}),Object(G.jsx)(d.a,{variant:"body2",sx:{marginLeft:1},children:" average rating - ".concat(null===p||void 0===p?void 0:p.ratingsCount," ratings")})]}),Object(G.jsxs)(d.a,{variant:"body2",children:["Published: ",null===p||void 0===p?void 0:p.publishedDate]}),Object(G.jsxs)(d.a,{variant:"body2",children:["Categories: ",null===p||void 0===p?void 0:p.categories]}),Object(G.jsx)(Y.a,{variant:"contained",color:"success",sx:{width:160},onClick:function(){return u(!0)},children:"Add to shelf"})]}),l&&Object(G.jsx)(ct,{setModal:u,book:p,notify:r})]},n.id)},at=Object(w.a)((function(e){return{container:{width:"50%",margin:"auto",marginTop:30,marginBottom:30},header:{display:"flex",alignItems:"center",width:"100%",padding:5,color:"black"},user:{display:"flex",alignItems:"center",margin:20,borderBottom:"1px dashed black"},rightSide:{marginLeft:20},avatar:{"&:hover":{cursor:"pointer"}},username:{"&:hover":{cursor:"pointer"}},modal:{display:"flex",backgroundColor:"white"},bookPreview:{padding:15,display:"flex",backgroundColor:"white",border:"1px dashed lightblue",margin:5,"&:hover":{cursor:"pointer",backgroundColor:"rgba(220,220,220,1)",color:"black"}},bookInfo:{marginLeft:10,display:"flex",flexDirection:"column",justifyContent:"space-evenly",color:"inherit"},title:{color:"crimson"},thumbnail:{height:160,width:100},informationDisplay:{display:"flex"}}})),rt=function(e){var t=e.setTitle,n=e.title,a=e.getBooks,r=at({});return Object(G.jsxs)("div",{className:r.header,children:[Object(G.jsx)(He.a,{variant:"standard",color:"warning",focused:!0,placeholder:"Book name....",sx:{input:{color:"black"},marginRight:2},value:n,onChange:function(e){t(e.target.value)}}),Object(G.jsx)(Y.a,{variant:"contained",onClick:a,color:"success",children:"Search"}),Object(G.jsxs)(d.a,{variant:"body1",sx:{marginLeft:5},children:["Can't find what you need?"," ",Object(G.jsx)(y.b,{to:"/book/suggestion",style:{color:"orange",textDecoration:"none"},children:"Suggest a book for us to upload!"})]})]})},it=Object(w.a)((function(e){var t;return t={container:{minHeight:"100vh",position:"relative",backgroundColor:"wheat"},bookPreview:{padding:20,display:"flex",alignItems:"center",backgroundColor:"wheat",borderBottom:"1px solid black",transition:".1s","&:hover":{cursor:"pointer",backgroundColor:"rgb(40,40,40)",color:"white"}},bookInfo:{marginLeft:20,width:"100%"},thumbnail:{height:240},modal:Object(O.a)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",backgroundColor:"wheat",padding:10,boxShadow:24,overflowY:"auto",borderRadius:5},e.breakpoints.down("xs"),{width:"100%",top:"0",left:"0",transform:"translate(0,0)",margin:"auto"})},Object(O.a)(t,"container",{width:"100%",display:"flex"}),Object(O.a)(t,"button",{display:"flex",justifyContent:"flex-end",marginTop:5}),Object(O.a)(t,"input",{width:"100%"}),t})),ct=function(e){var t,n=e.setModal,r=e.book,i=e.notify,c=it({}),s=Object(a.useState)(!1),l=Object(o.a)(s,2),u=l[0],b=l[1],j=Object(a.useState)(0),p=Object(o.a)(j,2),m=p[0],h=p[1],x=Object(C.c)((function(e){return e.user.user})),g=Object(a.useState)(""),v=Object(o.a)(g,2),f=v[0],O=v[1],w=function(){b(!1),n(!1)},k=function(){var e=Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("".concat(q,"/api/books/upload2"),{username:x.username,google:r.google,bookId:r.bookId,review:{text:f,rating:m},cover:null===r||void 0===r?void 0:r.cover},{withCredentials:!0});case 3:w(),i(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b(!0)}),[]),Object(G.jsx)("div",{children:Object(G.jsx)(ke.a,{open:u,sx:{overflow:"scroll"},onClose:w,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(G.jsx)("div",{className:c.modal,children:Object(G.jsxs)("div",{className:c.container,children:[Object(G.jsx)("div",{children:Object(G.jsx)("img",{src:null===r||void 0===r?void 0:r.cover,className:c.thumbnail})}),Object(G.jsxs)("div",{className:c.bookInfo,children:[Object(G.jsx)(d.a,{variant:"subtitle1",sx:{color:"crimson"},children:r.title}),Object(G.jsxs)("div",{variant:"body2",children:["by"," ",null===r||void 0===r||null===(t=r.authors)||void 0===t?void 0:t.map((function(e,t){var n;return Object(G.jsx)(d.a,{variant:"subtitle2",style:{display:"inline"},children:"".concat(e," ").concat(t!==(null===r||void 0===r||null===(n=r.authors)||void 0===n?void 0:n.length)-1?", ":"")},e)}))]}),Object(G.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(G.jsx)(d.a,{variant:"subtitle1",children:"Rating:"}),Object(G.jsx)(ce.a,{name:"size-large",value:+m,size:"medium",onChange:function(e,t){h(t)}})]}),Object(G.jsx)(d.a,{variant:"subtitle1",children:"Review: "}),Object(G.jsx)("textarea",{value:f,onChange:function(e){return O(e.target.value)},cols:"30",rows:"5",required:!0,className:c.input}),Object(G.jsx)("div",{className:c.button,children:Object(G.jsxs)(Y.a,{className:c.button,disabled:!(f.length>0),variant:"contained",color:"success",onClick:k,sx:{width:100},children:[" ","Submit"," "]})})]})]})})})})},ot=Object(w.a)((function(e){var t;return{inputCard:(t={backgroundColor:"white",width:"50%",margin:"auto",display:"flex"},Object(O.a)(t,e.breakpoints.down("md"),{width:"80%"}),Object(O.a)(t,e.breakpoints.down("sm"),{width:"100%"}),t),leftSideCard:{width:"30%",height:"inherit",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},icons:{color:"green","&:hover":{cursor:"pointer",color:"red"}},noCover:{height:220,width:140,backgroundColor:"wheat",border:"2px solid black",margin:"30px auto 10px auto",display:"flex",justifyContent:"center",alignItems:"center"},cover:{height:260,width:160,margin:"20px auto",marginTop:"50px"},rightSideCard:{width:"70%",display:"flex",flexDirection:"column",padding:30},inputArea:{display:"flex",marginBottom:15},inputField:{position:"relative",backgroundColor:"wheat",borderRadius:15,border:"1px solid black",width:"100%",padding:"5px 10px","&:focus":{outline:"none"}},ratingArea:{display:"flex",alignItems:"center"},reviewInput:{marginTop:10,width:"100%",height:"100%",boxSizing:"border-box",resize:"none",padding:15,minHeight:200,color:"black",fontFamily:"arial",fontSize:12},submitButton:{marginTop:20,padding:"10px 50px"},pageType:{margin:50,marginLeft:100,color:"black",borderBottom:"2px solid black",width:"fit-content"},actionButtonsDiv:{width:"100%",display:"flex",alignSelf:"flex-end",justifyContent:"flex-end"},userOptions:{display:"flex",alignItems:"center"},whiteSpace:{height:20},editIcon:{color:"green","&:hover":{cursor:"pointer"},width:"fit-content",marginRight:10},deleteIcon:{color:"red","&:hover":{cursor:"pointer"}},link:{textDecoration:"none",color:"crimson"},thumbnail:{height:124,width:86},body:{display:"flex",padding:10,alignItems:"center",justifyContent:"space-between",borderBottom:"1px dashed black"},bookInfo:{marginLeft:20,display:"flex",flexDirection:"column",justifyContent:"space-evenly"}}})),st=function(e){var t=e.book,n=e.setBooks,a=e.books,r=ot({}),i=function(){var e=Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.put("".concat(q,"/api/books/suggestion/approve/").concat(t._id),{withCredentials:!0});case 3:o(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(S.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.delete("".concat(q,"/api/books/suggestion/denie/").concat(t._id),{withCredentials:!0});case 3:o(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),o=function(){n(a.filter((function(e){return e!==t})))};return Object(G.jsx)("div",{className:r.body,children:Object(G.jsxs)("div",{style:{display:"flex"},children:[Object(G.jsx)("img",{src:t.cover,className:r.thumbnail}),Object(G.jsxs)("div",{className:r.bookInfo,children:[Object(G.jsxs)("div",{children:[Object(G.jsx)(d.a,{variant:"subtitle1",sx:{color:"crimson"},children:t.title}),Object(G.jsxs)(d.a,{variant:"body2",children:["by ",t.authors]})]}),Object(G.jsx)(d.a,{variant:"body2",children:"".concat(t.genre," - ").concat(t.edition," edition - ").concat(t.pages," pages")}),Object(G.jsxs)(d.a,{variant:"subtitle2",children:["Submitted by "," ",Object(G.jsx)(y.b,{to:"/profile/".concat(t.submittedBy),className:r.link,children:t.submittedBy})]}),Object(G.jsxs)("div",{children:[Object(G.jsx)(Y.a,{variant:"contained",color:"success",sx:{width:100},onClick:i,children:"APPROVE"}),Object(G.jsx)(Y.a,{variant:"contained",color:"error",sx:{width:100,marginLeft:2},onClick:c,children:"REJECT"})]})]})]})})},lt=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),c=Object(o.a)(i,2),s=c[0],l=c[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,U.a.get("".concat(q,"/api/books/pending"));case 4:t=e.sent,r(t.data),l(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),l(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),s?Object(G.jsx)(ee.a,{color:"secondary"}):Object(G.jsxs)("div",{children:[0===n.length&&Object(G.jsx)(d.a,{variant:"subtitle2",sx:{paddingTop:5},children:"No books pending review"}),n.map((function(e){return Object(G.jsx)(st,{book:e,setBooks:r,books:n},e._id)}))]})},dt=Object(w.a)((function(e){return{container:{position:"relative"},commentContainer:{width:"50%",margin:"auto",marginTop:20,borderTopRightRadius:"10px",borderTopLeftRadius:"10px",backgroundColor:"wheat"}}})),ut=function(){var e=dt({}),t=Object(c.f)(),n=Object(C.c)((function(e){return e.user.user})),r=Object(a.useState)(),i=Object(o.a)(r,2),s=i[0],l=i[1],d=t.state,u=d.book,b=d.review,j=d.cover,p=d.username;return Object(G.jsxs)("div",{className:e.container,children:[Object(G.jsx)(_,{}),Object(G.jsx)(ue,{book:u,review:b,cover:j,username:p}),Object(G.jsxs)("div",{className:e.commentContainer,children:[n.active&&!n.banned&&Object(G.jsx)(Se,{userBook:b.userBookId,addNewComments:function(e){l(e)}}),Object(G.jsx)(Fe,{userBook:b.userBookId,newComments:s})]})]})},bt=Object(w.a)((function(e){return{container:{position:"relative"}}})),jt=function(){var e=bt({});return Object(G.jsxs)("div",{className:e.container,children:[Object(G.jsx)(_,{}),Object(G.jsx)(we,{})]})},pt=Object(w.a)((function(e){return{container:{position:"relative"}}})),mt=function(){var e=pt({});return Object(G.jsxs)("div",{className:e.container,children:[Object(G.jsx)(_,{}),Object(G.jsx)(fe,{})]})},ht=Object(w.a)((function(e){var t;return{profileWall:{margin:0,textAlign:"center"},body:(t={display:"flex",justifyContent:"space-evenly"},Object(O.a)(t,e.breakpoints.down("sm"),{margin:0,flexDirection:"column-reverse"}),Object(O.a)(t,"toggleButton",{textAlign:"center"}),t),toggleButton:Object(O.a)({display:"none",backgroundColor:"lightgreen"},e.breakpoints.down("sm"),{display:"block"}),books:Object(O.a)({},e.breakpoints.down("sm"),{display:function(e){return"books"===e.alignment?"block":"none"}}),card:Object(O.a)({},e.breakpoints.down("sm"),{display:function(e){return"card"===e.alignment?"block":"none"}})}})),xt=function(){var e=Object(a.useState)("books"),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(null),s=Object(o.a)(i,2),l=s[0],d=s[1],u=Object(a.useState)(!1),b=Object(o.a)(u,2),j=b[0],p=b[1],m=Object(c.h)().username,h=ht({alignment:n});return Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("".concat(q,"/api/users/").concat(m));case 3:t=e.sent,d(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[m]),Object(G.jsxs)("div",{className:h.profileWall,children:[Object(G.jsx)(_,{}),Object(G.jsxs)("div",{className:h.toggleButton,sx:{marginTop:10},children:[Object(G.jsx)(Y.a,{value:"books",onClick:function(){return r("books")},children:"Books"}),Object(G.jsx)(Y.a,{value:"card",onClick:function(){return r("card")},children:"Card"})]}),Object(G.jsxs)(te.a,{container:!0,className:h.body,children:[Object(G.jsx)(te.a,{item:!0,lg:9,className:h.books,children:Object(G.jsx)(re,{})}),Object(G.jsx)(te.a,{item:!0,lg:3,className:h.card,children:j?Object(G.jsx)(V,{user:l,setEdit:p,setUser:d}):Object(G.jsx)(Z,{user:l,setEdit:p})})]})]})},gt=function(){return Object(G.jsxs)("div",{style:{height:"80vh"},children:[Object(G.jsx)(_,{}),Object(G.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(G.jsx)("p",{children:"hello"}),Object(G.jsx)("img",{src:"https://le3emepilier.com/wp-content/uploads/2019/04/img-under-construction.png",alt:""})]})]})},vt=Object(w.a)((function(e){return{container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},form:Object(O.a)({maxWidth:"550px",padding:30,backgroundImage:"url(".concat(W,")"),display:"flex",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column"}),leftSide:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},middleSide:Object(O.a)({border:"1px solid black",margin:"0px 20px"},e.breakpoints.down("sm"),{margin:"0px 20px 10px 20px"}),logo:Object(O.a)({right:0,maxHeight:200},e.breakpoints.down("sm"),{maxHeight:100}),formType:{color:"crimson","&:hover":{cursor:"pointer"}},inputField:{marginTop:"2px"},routePath:{marginBottom:10},button:{display:"flex",justifyContent:"center"},goodbooksName:{fontSize:"32px",fontFamily:"Arial",marginBottom:10,width:"100%",textAlign:"center"},rightSide:{width:"100%"}}})),ft=function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),n=t[0],r=t[1],i=vt({});return Object(G.jsx)("div",{className:i.container,children:Object(G.jsx)(ie.a,{elevation:5,children:Object(G.jsxs)("div",{className:i.form,children:[Object(G.jsxs)("div",{className:i.leftSide,children:[Object(G.jsx)("img",{src:h,alt:"logo",className:i.logo}),Object(G.jsx)("span",{className:i.goodbooksName,children:"GoodBooks"})]}),Object(G.jsx)("div",{className:i.middleSide}),Object(G.jsxs)("div",{className:i.rightSide,children:[n?Object(G.jsx)(_e,{setLogin:r}):Object(G.jsx)(Je,{setLogin:r,triggerToast:function(e,t){e?K.b.success(t,{position:"top-center",autoClose:5e3}):K.b.error(t,{position:"top-center",autoClose:5e3})}}),Object(G.jsx)(K.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})]})})})},Ot=function(){return Object(G.jsxs)("div",{children:[Object(G.jsx)(_,{}),Object(G.jsx)(Pe,{})]})},wt=Object(w.a)((function(e){return{container:{width:"50%",margin:"auto",padding:20,marginTop:30},user:{display:"flex",alignItems:"center",margin:20,borderBottom:"1px dashed black"},rightSide:{marginLeft:20},avatar:{"&:hover":{cursor:"pointer"}},username:{"&:hover":{cursor:"pointer"}},reportContainer:{padding:5,borderBottom:"1px dashed black",display:"flex",justifyContent:"space-between",alignItems:"center"},reportedUser:{color:"crimson",fontWeight:500,paddingRight:"5px","&:hover":{cursor:"pointer"}},reportedBy:{color:"orange",fontWeight:500,"&:hover":{cursor:"pointer"}},reportReason:{display:"flex",alignItems:"center",marginTop:2},resolveIcon:{color:"green","&:hover":{cursor:"pointer",color:"crimson"}}}})),kt=function(){var e=wt({}),t=Object(a.useState)("left"),n=Object(o.a)(t,2),r=n[0],i=n[1];return Object(G.jsxs)("div",{children:[Object(G.jsx)(_,{}),Object(G.jsxs)(ie.a,{elevation:5,className:e.container,children:[Object(G.jsxs)(je.a,{value:r,exclusive:!0,onChange:function(e,t){i(t)},"aria-label":"text alignment",children:[Object(G.jsx)(pe.a,{value:"left","aria-label":"left aligned",children:"Reports"}),Object(G.jsx)(pe.a,{value:"center","aria-label":"centered",children:"Book Suggestions"})]}),"left"===r&&Object(G.jsx)(et,{}),"center"===r&&Object(G.jsx)(lt,{})]})]})},yt=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.user.user}));return Object(a.useEffect)((function(){JSON.parse(localStorage.getItem("user"))&&z(JSON.parse(localStorage.getItem("user")),e)}),[e]),Object(G.jsx)("div",{children:Object(G.jsxs)(c.d,{children:[Object(G.jsx)(c.b,{path:"/",element:Object(G.jsx)(gt,{})}),Object(G.jsx)(c.b,{path:"/login",element:Object(G.jsx)(ft,{})}),Object(G.jsx)(c.b,{path:"/profile/:username",element:Object(G.jsx)(xt,{})}),Object(G.jsx)(c.b,{path:"/upload",element:Object(G.jsx)(Ze,{})}),Object(G.jsx)(c.b,{path:"/book/:id",element:Object(G.jsx)(ut,{})}),Object(G.jsx)(c.b,{path:"/profile/:username/friends",element:Object(G.jsx)(mt,{})}),Object(G.jsx)(c.b,{path:"/search/:filter",element:Object(G.jsx)(Ot,{})}),Object(G.jsx)(c.b,{path:"/book/suggestion",element:Object(G.jsx)(jt,{})}),Object(G.jsx)(c.b,{path:"/admin/dashboard",element:(null===t||void 0===t?void 0:t.isAdmin)?Object(G.jsx)(kt,{}):Object(G.jsx)(c.a,{to:"/"})})]})})},Ct=Object(D.a)({reducer:{user:P}});i.a.render(Object(G.jsx)(y.a,{children:Object(G.jsx)(C.a,{store:Ct,children:Object(G.jsx)(yt,{})})}),document.getElementById("root"))}},[[170,1,2]]]);
//# sourceMappingURL=main.293ff3e4.chunk.js.map